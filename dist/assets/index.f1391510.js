const de=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))y(f);new MutationObserver(f=>{for(const w of f)if(w.type==="childList")for(const j of w.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&y(j)}).observe(document,{childList:!0,subtree:!0});function e(f){const w={};return f.integrity&&(w.integrity=f.integrity),f.referrerpolicy&&(w.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?w.credentials="include":f.crossorigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function y(f){if(f.ep)return;f.ep=!0;const w=e(f);fetch(f.href,w)}};de();var le={exports:{}};(function(o){(function(i){var e=K(),y=b(),f=g(),w=l(),j={imagePlaceholder:void 0,cacheBust:!1},d={toSvg:$,toPng:I,toJpeg:G,toBlob:z,toPixelData:h,impl:{fontFaces:f,images:w,util:e,inliner:y,options:{}}};o.exports=d;function $(n,t){return t=t||{},M(t),Promise.resolve(n).then(function(c){return k(c,t.filter,!0)}).then(B).then(x).then(r).then(function(c){return V(c,t.width||e.width(n),t.height||e.height(n))});function r(c){return t.bgcolor&&(c.style.backgroundColor=t.bgcolor),t.width&&(c.style.width=t.width+"px"),t.height&&(c.style.height=t.height+"px"),t.style&&Object.keys(t.style).forEach(function(s){c.style[s]=t.style[s]}),c}}function h(n,t){return O(n,t||{}).then(function(r){return r.getContext("2d").getImageData(0,0,e.width(n),e.height(n)).data})}function I(n,t){return O(n,t||{}).then(function(r){return r.toDataURL()})}function G(n,t){return t=t||{},O(n,t).then(function(r){return r.toDataURL("image/jpeg",t.quality||1)})}function z(n,t){return O(n,t||{}).then(e.canvasToBlob)}function M(n){typeof n.imagePlaceholder=="undefined"?d.impl.options.imagePlaceholder=j.imagePlaceholder:d.impl.options.imagePlaceholder=n.imagePlaceholder,typeof n.cacheBust=="undefined"?d.impl.options.cacheBust=j.cacheBust:d.impl.options.cacheBust=n.cacheBust}function O(n,t){return $(n,t).then(e.makeImage).then(e.delay(100)).then(function(c){var s=r(n);return s.getContext("2d").drawImage(c,0,0),s});function r(c){var s=document.createElement("canvas");if(s.width=t.width||e.width(c),s.height=t.height||e.height(c),t.bgcolor){var p=s.getContext("2d");p.fillStyle=t.bgcolor,p.fillRect(0,0,s.width,s.height)}return s}}function k(n,t,r){if(!r&&t&&!t(n))return Promise.resolve();return Promise.resolve(n).then(c).then(function(u){return s(n,u,t)}).then(function(u){return p(n,u)});function c(u){return u instanceof HTMLCanvasElement?e.makeImage(u.toDataURL()):u.cloneNode(!1)}function s(u,m,R){var q=u.childNodes;if(q.length===0)return Promise.resolve(m);return A(m,e.asArray(q),R).then(function(){return m});function A(C,U,T){var L=Promise.resolve();return U.forEach(function(W){L=L.then(function(){return k(W,T)}).then(function(N){N&&C.appendChild(N)})}),L}}function p(u,m){if(!(m instanceof Element))return m;return Promise.resolve().then(R).then(q).then(A).then(C).then(function(){return m});function R(){U(window.getComputedStyle(u),m.style);function U(T,L){T.cssText?L.cssText=T.cssText:W(T,L);function W(N,H){e.asArray(N).forEach(function(a){H.setProperty(a,N.getPropertyValue(a),N.getPropertyPriority(a))})}}}function q(){[":before",":after"].forEach(function(T){U(T)});function U(T){var L=window.getComputedStyle(u,T),W=L.getPropertyValue("content");if(W===""||W==="none")return;var N=e.uid();m.className=m.className+" "+N;var H=document.createElement("style");H.appendChild(a(N,T,L)),m.appendChild(H);function a(v,S,P){var F="."+v+":"+S,J=P.cssText?re(P):oe(P);return document.createTextNode(F+"{"+J+"}");function re(Y){var _=Y.getPropertyValue("content");return Y.cssText+" content: "+_+";"}function oe(Y){return e.asArray(Y).map(_).join("; ")+";";function _(Z){return Z+": "+Y.getPropertyValue(Z)+(Y.getPropertyPriority(Z)?" !important":"")}}}}}function A(){u instanceof HTMLTextAreaElement&&(m.innerHTML=u.value),u instanceof HTMLInputElement&&m.setAttribute("value",u.value)}function C(){m instanceof SVGElement&&(m.setAttribute("xmlns","http://www.w3.org/2000/svg"),m instanceof SVGRectElement&&["width","height"].forEach(function(U){var T=m.getAttribute(U);!T||m.style.setProperty(U,T)}))}}}function B(n){return f.resolveAll().then(function(t){var r=document.createElement("style");return n.appendChild(r),r.appendChild(document.createTextNode(t)),n})}function x(n){return w.inlineAll(n).then(function(){return n})}function V(n,t,r){return Promise.resolve(n).then(function(c){return c.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(c)}).then(e.escapeXhtml).then(function(c){return'<foreignObject x="0" y="0" width="100%" height="100%">'+c+"</foreignObject>"}).then(function(c){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+r+'">'+c+"</svg>"}).then(function(c){return"data:image/svg+xml;charset=utf-8,"+c})}function K(){return{escape:C,parseExtension:t,mimeType:r,dataAsUrl:A,isDataUrl:c,canvasToBlob:p,resolveUrl:u,getAndEncode:q,uid:m(),delay:U,asArray:T,escapeXhtml:L,makeImage:R,width:W,height:N};function n(){var a="application/font-woff",v="image/jpeg";return{woff:a,woff2:a,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:v,jpeg:v,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function t(a){var v=/\.([^\.\/]*?)$/g.exec(a);return v?v[1]:""}function r(a){var v=t(a).toLowerCase();return n()[v]||""}function c(a){return a.search(/^(data:)/)!==-1}function s(a){return new Promise(function(v){for(var S=window.atob(a.toDataURL().split(",")[1]),P=S.length,F=new Uint8Array(P),J=0;J<P;J++)F[J]=S.charCodeAt(J);v(new Blob([F],{type:"image/png"}))})}function p(a){return a.toBlob?new Promise(function(v){a.toBlob(v)}):s(a)}function u(a,v){var S=document.implementation.createHTMLDocument(),P=S.createElement("base");S.head.appendChild(P);var F=S.createElement("a");return S.body.appendChild(F),P.href=v,F.href=a,F.href}function m(){var a=0;return function(){return"u"+v()+a++;function v(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function R(a){return new Promise(function(v,S){var P=new Image;P.onload=function(){v(P)},P.onerror=S,P.src=a})}function q(a){var v=3e4;return d.impl.options.cacheBust&&(a+=(/\?/.test(a)?"&":"?")+new Date().getTime()),new Promise(function(S){var P=new XMLHttpRequest;P.onreadystatechange=re,P.ontimeout=oe,P.responseType="blob",P.timeout=v,P.open("GET",a,!0),P.send();var F;if(d.impl.options.imagePlaceholder){var J=d.impl.options.imagePlaceholder.split(/,/);J&&J[1]&&(F=J[1])}function re(){if(P.readyState===4){if(P.status!==200){F?S(F):Y("cannot fetch resource: "+a+", status: "+P.status);return}var _=new FileReader;_.onloadend=function(){var Z=_.result.split(/,/)[1];S(Z)},_.readAsDataURL(P.response)}}function oe(){F?S(F):Y("timeout of "+v+"ms occured while fetching resource: "+a)}function Y(_){console.error(_),S("")}})}function A(a,v){return"data:"+v+";base64,"+a}function C(a){return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function U(a){return function(v){return new Promise(function(S){setTimeout(function(){S(v)},a)})}}function T(a){for(var v=[],S=a.length,P=0;P<S;P++)v.push(a[P]);return v}function L(a){return a.replace(/#/g,"%23").replace(/\n/g,"%0A")}function W(a){var v=H(a,"border-left-width"),S=H(a,"border-right-width");return a.scrollWidth+v+S}function N(a){var v=H(a,"border-top-width"),S=H(a,"border-bottom-width");return a.scrollHeight+v+S}function H(a,v){var S=window.getComputedStyle(a).getPropertyValue(v);return parseFloat(S.replace("px",""))}}function b(){var n=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:s,shouldProcess:t,impl:{readUrls:r,inline:c}};function t(p){return p.search(n)!==-1}function r(p){for(var u=[],m;(m=n.exec(p))!==null;)u.push(m[1]);return u.filter(function(R){return!e.isDataUrl(R)})}function c(p,u,m,R){return Promise.resolve(u).then(function(A){return m?e.resolveUrl(A,m):A}).then(R||e.getAndEncode).then(function(A){return e.dataAsUrl(A,e.mimeType(u))}).then(function(A){return p.replace(q(u),"$1"+A+"$3")});function q(A){return new RegExp(`(url\\(['"]?)(`+e.escape(A)+`)(['"]?\\))`,"g")}}function s(p,u,m){if(R())return Promise.resolve(p);return Promise.resolve(p).then(r).then(function(q){var A=Promise.resolve(p);return q.forEach(function(C){A=A.then(function(U){return c(U,C,u,m)})}),A});function R(){return!t(p)}}}function g(){return{resolveAll:n,impl:{readAll:t}};function n(){return t().then(function(r){return Promise.all(r.map(function(c){return c.resolve()}))}).then(function(r){return r.join(`
`)})}function t(){return Promise.resolve(e.asArray(document.styleSheets)).then(c).then(r).then(function(p){return p.map(s)});function r(p){return p.filter(function(u){return u.type===CSSRule.FONT_FACE_RULE}).filter(function(u){return y.shouldProcess(u.style.getPropertyValue("src"))})}function c(p){var u=[];return p.forEach(function(m){try{e.asArray(m.cssRules||[]).forEach(u.push.bind(u))}catch(R){console.log("Error while reading CSS rules from "+m.href,R.toString())}}),u}function s(p){return{resolve:function(){var m=(p.parentStyleSheet||{}).href;return y.inlineAll(p.cssText,m)},src:function(){return p.style.getPropertyValue("src")}}}}}function l(){return{inlineAll:t,impl:{newImage:n}};function n(r){return{inline:c};function c(s){return e.isDataUrl(r.src)?Promise.resolve():Promise.resolve(r.src).then(s||e.getAndEncode).then(function(p){return e.dataAsUrl(p,e.mimeType(r.src))}).then(function(p){return new Promise(function(u,m){r.onload=u,r.onerror=m,r.src=p})})}}function t(r){if(!(r instanceof Element))return Promise.resolve(r);return c(r).then(function(){return r instanceof HTMLImageElement?n(r).inline():Promise.all(e.asArray(r.childNodes).map(function(s){return t(s)}))});function c(s){var p=s.style.getPropertyValue("background");return p?y.inlineAll(p).then(function(u){s.style.setProperty("background",u,s.style.getPropertyPriority("background"))}).then(function(){return s}):Promise.resolve(s)}}}})()})(le);var he=le.exports;const ie=new Set(["Australian Greens","Australian Labor Party","Liberal-National Coalition"]),ge=new Map([["Australian Greens","brocolli"],["Australian Labor Party","tomatoes"],["Liberal-National Coalition","blueberries"]]),me=new Map([["National Party","Liberal-National Coalition"],["Liberal Party","Liberal-National Coalition"],["Liberal National Party","Liberal-National Coalition"],["Country Liberal Party","Liberal-National Coalition"]]),ye=o=>{let i=4,e=1;for(;i;)e*=o- --i;return e},E=new Proxy(window.console,{get(){return()=>{}}}),D=(o,i,e=[])=>{var y;return(y=o.get(i))!=null?y:o.set(i,e)&&e},ve=async()=>{const o=await fetch("/db.json").then(d=>d.json()),i=Object.keys(o.people),e=new Map(Object.entries(o.people)),y=new Map(Object.entries(o.policies)),f=new Map,w=new Map;let j=0;for(const[d,$]of e){const h=$.name[0].replace(/-/g,"").toLowerCase(),I=D(w,h);$.index=++j,$.lookup={name:h,list:I,index:I.push(d)},$.policies=new Map(Object.entries($.policies));const G=D(f,$.party,{policies:new Map,people:[]});G.people.push(d);const z=me.get($.party),M=z&&D(f,z,{policies:new Map,people:[]});M&&M.people.push(d);for(const[O,k]of $.policies){if(k%100)continue;const B=y.get(O);if(!B)continue;B.parties||(B.parties=new Map);const x=D(B.parties,$.party,{for:[],against:[]});if(k?x.for.push(d):x.against.push(d),G.policies.has(O)||G.policies.set(O,x),!z)continue;const V=D(B.parties,z,{for:[],against:[]});k?V.for.push(d):V.against.push(d),M.policies.has(O)||M.policies.set(O,V)}}return E.log("NAMES",w),E.log("POLICIES",y),E.log("PARTIES",f),{permutations:ye(e.size).toLocaleString(),names:w,ids:i,people:e,policies:y,parties:f}},we=o=>{if(o.length<2)return;const i=o.slice(1).split("/"),e=i.pop().split("-"),y=i.length?i.pop().split(/\B/):[],f=y.slice(),w=[];for(const j of e){const d=X.names.get(j);if(!d)continue;let $=0;d.length>1&&y.length&&(E.log(d),$=Math.max(1,Math.min(d.length,parseInt(y.shift(),36)))-1),w.push(d[$])}return E.log("PARSE",o,i,f,w),w},Pe=(...o)=>{const i=[];let e="";for(const y of o){const f=X.people.get(y);f&&(i.push(f.lookup.name),f.lookup.list.length>1&&(e+=f.lookup.index.toString(36)))}return E.log({names:i,indexes:e},[""].concat(e||[],i.join("-")).join("/")),[""].concat(e||[],i.join("-")).join("/")},be=330/800,Se=300/800;let ne,ee,ue=0;const Le=document.querySelector(".description"),$e=document.querySelector(".twitter"),Ae=document.querySelector(".email"),Q=document.querySelector(".partials"),ae=document.querySelectorAll(".partial-image"),Ee=document.querySelectorAll(".info"),fe=o=>{++ue>=ae.length&&setTimeout(()=>{delete Q.dataset.loading},500)},Te=o=>{if(o.target.classList.contains("default"))return fe();o.target.parentElement.parentElement.style="",o.target.parentElement.style="",o.target.classList.add("default"),o.target.src="/assets/whereswilma.webp"};Q.addEventListener("load",fe,!0);Q.addEventListener("error",Te,!0);const je=(o=[])=>{var e;const i=[];for(;i.length<ae.length;){const y=(e=o[i.length])!=null?e:X.ids[Math.floor(Math.random()*X.ids.length)];y&&!i.includes(y)&&X.people.get(y)&&i.push(y)}return i},se=o=>{ue=0,Q.dataset.alt=+Q.dataset.alt?0:1,Q.dataset.loading=1;const i=[0,0],e=[],y=new Map,f=je(o);let w=1;for(const[d,$]of Object.entries(f)){const h=X.people.get($);w*=h.index;const I=ae[d],G=h.image,z="/assets/manofmystery.webp";I.src=G?`/assets/people/${$}.webp`:z,I.classList.toggle("default",!G);const M=new Map;let O=0;for(const[b,g]of h.policies){const l=D(y,b,{aggregate:0,count:0,parties:new Map,people:{names:[],ids:[],parties:new Set}});if(l.people.names.push(h.name[0]),l.people.ids.push($),l.people.parties.add(h.party),l.aggregate+=g,++l.count,g%100)continue;++O;const n=2*g/100-1,t=[];for(const[r,c]of X.policies.get(b).parties){const s=Math.max(-1,Math.min(1,c.for.length-c.against.length));if(s&&l.parties.set(r,s),!ie.has(r)||s!==n)continue;t.push(r),D(M,r).push(b)}t.length||D(M,"Other").push(b)}let k=0;const B=Array.from(M).sort(([b,g],[l,n])=>(k=Math.max(k,g.length,n.length),n.length-g.length||(b===h.party?1:0)));k||(k=B[0][1].length,E.log({alignmentMax:k},B));const x=Ee[d];if(x){const b=`${h.house[0]==="s"?"Senator":"Representative"} for ${h.electorate}`,g=h.offices.length?[h.offices[0].replace(/ (to|for) .*?(?= \(|$)/,"")]:[];x.dataset.party=h.party.toLowerCase().replace(/ /g,"-").replace(/[^a-z-]/g,""),x.querySelector("img").src=I.classList.contains("default")?I.src:I.src.replace(".webp","-sm.webp"),x.querySelector(".name").innerText=h.name.join(" "),x.querySelector(".role").innerText=b,x.querySelector(".party").innerText=h.party==="CWM"?"":h.party,x.querySelector(".offices").innerHTML=g.concat(h.offices.length>1?`+${h.offices.length-1} more offices`:[]).join("<br>"),x.querySelector(".votes").innerHTML=`Consistent votes: ${O.toLocaleString()}`;for(const l of x.querySelectorAll(".partial-alignment li"))l.style=null;x.querySelector(".partial-alignment").title=`${h.name[0]}'s consistent voting alignment with the major parties`;for(const[l,[n,t]]of Object.entries(B)){E.log(n);const r=x.querySelector(`.partial-alignment li[data-party="${n}"]`);r.style.order=+l+1,r.style.width=`${Math.round(100*t.length/k)}%`,E.log(l,n,t)}}E.log($,h.name,h.party,h),E.log("ALIGNMENT",M),E.log(B),e.push(h.name[0]);let V,K;if(G){const b=h.image[36],g=h.image[45],l=h.image[8],n=h.image[0],t=h.image[16],r=[g[0]-b[0],g[1]-b[1]],c=[l[0]-b[0],l[1]-b[1]],s=[b[0]-n[0],b[1]-n[1]],p=[t[0]-g[0],t[1]-g[1]],u=(r[0]**2+r[1]**2)**.5,m=(c[0]**2+c[1]**2)**.5,R=(s[0]**2+s[1]**2)**.5,q=(p[0]**2+p[1]**2)**.5,A=Math.atan(r[1]/r[0]),C=Math.atan(c[1]/c[0]),U=Math.sin(C-A)*m,T=R>q?1:-1,L=Se/U,W=.5-b[0]-L*u/2,N=be-b[1];if(d==0){const H=N*L-b[1]*(L-1);i[0]=Math.max(0,H)}else if(d==f.length-1){const H=(1-b[1])*(L-1)+N*L;i[1]=Math.max(0,-H)}T<0&&(V=`transform: scaleX(${T});`),K=`transform: translate(${W*100}%, ${N*100}%) scale(${L}, ${L}) rotate(${-A}rad); transform-origin: ${b[0]*100}% ${b[1]*100}%;`}I.parentElement.parentElement.style=V,I.parentElement.style=K}const j=(i[1]-i[0])/4;Q.style=`transform: translateY(${j*100}%)`,E.log({topBottomTransform:i,offsetTransformY:j}),ne=`${e[0]} "the ${e[1]}" ${e[2]}-${e[3]}`;for(const d of document.querySelectorAll(".pollie"))d.dataset.permutation=w.toLocaleString(),d.dataset.permutations=X.permutations.toLocaleString(),d.innerText=ne;ee=Pe(...f),history.state&&history.state.ids&&history.state.ids.join("")!==f.join("")?(E.log("PUSH STATE!",history.state,ee),history.pushState({ids:f},"",ee)):(E.log("REPLACE STATE!"),history.replaceState({ids:f},"",ee)),$e.href=Me(ne),Ae.href=xe(),ke(y)},Me=o=>{const i=new URL("https://twitter.com/intent/tweet");return i.searchParams.set("text",`${o} is truly the Perfect \u2764\uFE0F Pollie`),i.searchParams.set("url",location.origin+location.pathname),i},xe=o=>{const i=encodeURIComponent(`Hey I found the the Perfect Pollie -

${location.origin+location.pathname}

Love ya guts!`);return`mailto:?subject=${encodeURIComponent("found the the perfect pollie")}&body=${i}`},ce=o=>o.length<=2?o.join(" and "):o.slice(0,-2).join(", ").concat(", ",o.slice(-2).join(" and ")),Ce=document.querySelector(".policies-bigticket"),Re=document.querySelector(".policies-for-bigticket"),Ie=document.querySelector(".policies-for-major"),Oe=document.querySelector(".policies-for");document.querySelector(".policies-against-bigticket");document.querySelector(".policies-against-major");document.querySelector(".policies-against");const Ue=document.querySelectorAll(".alignment li"),ke=o=>{var x,V,K,b;let i=0,e=0;const y=new Map,f=new Map,w=new Map,j=new Map;for(const[g,l]of o){const n=l.aggregate/l.count;let t;if(n===100)t=w;else if(n===0)t=j;else continue;const r=X.policies.get(g),c=2*n/100-1,s=l.count**2;s>10&&E.log(g,r.name,l.count,s);const p=[],u=[];for(const[C,U]of l.parties)if(c===U){u.push(C);const T=D(y,C,{score:0,total:0});if(ie.has(C)){p.push(g);const L=D(f,C,{score:0,total:0});L[g]=s,L.score+=s,++L.total,e+=s,s>10&&E.log(L,C,c,U)}T[g]=s,T.score+=s,i+=s}if(!p.length){const C=D(f,"Other",{score:0,total:0});C[g]=s,C.score+=s,++C.total,e+=s}const m=D(t,l.count),R=ce(l.people.names),q=l.count>1?"agree":"agrees",A=l.count>1?"do not agree":"does not agree";m.push(`<li class="${n?"is-for":"is-against"}">
      <details>
        <summary title="${R} ${q} this is a ${n?"great":"terrible"} policy" data-count="${l.count}">${r.name}</summary>
        <p><i>${R}</i> ${n?q:A} that ${r.description}
          <br><small>Aligned Parties: ${u.sort().join(", ")}</small>
        </p>
      </details>
    </li>`)}E.log("POLICY ALIGNMENT",i,y),E.log("POLICY ALIGNMENT MAJOR",e,f);let d,$=0;const h=[],I=[];for(const[g,l]of f)l.percent=100*l.score/e,l.percentRounded=Math.ceil(l.percent),$+=l.percentRounded,(!d||l.score>d.score)&&(d=l),(g!=="Other"||l.percent>75)&&(l.percent>=25?h.push(g):l.percent>10&&I.push(ge.get(g)));d.percentRounded+=100-$;for(const g of Ue){const l=f.get(g.dataset.party);delete g.dataset.primary,l?(g.style.width=`${l.percent}%`,g.style.order=g.dataset.percent=l.percentRounded,g.dataset.score=l.score,g.dataset.total=l.total,d===l&&(g.dataset.primary="1")):(delete g.dataset.total,delete g.dataset.score,delete g.dataset.percent,g.style=null)}const G=[].concat(w.get(2)||[],w.get(1)||[]),z=[].concat(j.get(2)||[],j.get(1)||[]),M=((V=(x=w.get(4))==null?void 0:x.length)!=null?V:0)+((b=(K=j.get(4))==null?void 0:K.length)!=null?b:0);Ce.dataset.total=M,Re.innerHTML=(w.get(4)||[]).join("")+(j.get(4)||[]).join(""),Ie.innerHTML=(w.get(3)||[]).join("")+(j.get(3)||[]).join(""),Oe.innerHTML=G.join("")+z.join("");const O=f.get("Other"),k=h.length===ie.size,B=[`<i>${ne}</i>`].concat(M?"has":"has the look, but doesn't have any",M>5?"any number of":M||[],`<a href="#big-ticket-policies">big ticket ${M===1?"policy":"policies"}</a>`,d.percent>=75?(h[0]==="Other"?"and is essentially a bizarre non-conformist":`${M<5?"&hellip; and":"but"} `+(M?"(of course) is essentially a":"is really just a plain-packaged")+` <span class="party-align">${h[0]}</span> stooge`)+` (who enjoys a side of ${ce(I)})`:`${M?"and susbscribes to":"&hellip; despite subscribing to"} `+(k?"a confused middle ground in the divine trinity of major party ideaologies":"a soggy sandwich of "+(h.length>1?`<span class="party-align">${h.join('</span> and <span class="party-align">')}</span>`:`<span class="party-align">${h[0]}</span>`)+" thinking"+(I.length?` (with a side of ${I.join(" and ")})`:""))+(O?`. And, in true Canberra style, tops things off with ${O.percent<2?"an efficient smidge":O.percent<10&&"conservative pinch"||"fair dollop"} of bizarre otherness`:"")).join(" ").concat(".");Le.innerHTML=B};document.querySelector(".btn-refresh").addEventListener("click",o=>{o.target.blur(),document.body.focus(),se()});window.addEventListener("popstate",({state:o})=>{o&&o.ids&&se(o.ids),E.log("POPSTATE",o)});const qe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document;const pe=async o=>{const i=643.2/te.offsetWidth,e=await he.toJpeg(te,{width:te.offsetWidth*i,height:te.offsetHeight*i,style:{transform:`scale(${i})`,transformOrigin:"0 0"},bgcolor:"#fff"});return qe&&!o?pe(!0):e};for(const o of document.querySelectorAll("[data-hint]")){const i=o.dataset.hint==="over"?"pointerover":"click";o.addEventListener(i,()=>{delete o.dataset.hint},{once:!0})}const te=document.querySelector(".image");document.querySelector(".copy").addEventListener("click",()=>{navigator.clipboard.writeText(location.origin+location.pathname).then(()=>{E.log("saved!")},()=>{E.log("whoops!")})});document.querySelector(".save").addEventListener("click",async()=>{const o=await pe(),i=await fetch(o).then(y=>y.blob()).then(y=>URL.createObjectURL(y)),e=document.createElement("a");e.download=`${location.pathname.slice(1).replace(/([^\/]+)\/(.*)$/,"$2-$1")}.jpg`,e.href=i,e.click(),URL.revokeObjectURL(e.href)});let X;const Ne=async()=>{X=await ve();const o=document.querySelector(".combos");o&&(o.innerText=X.permutations);const i=we(location.pathname);se(i)};Ne();
