const de=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))w(f);new MutationObserver(f=>{for(const v of f)if(v.type==="childList")for(const M of v.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&w(M)}).observe(document,{childList:!0,subtree:!0});function e(f){const v={};return f.integrity&&(v.integrity=f.integrity),f.referrerpolicy&&(v.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?v.credentials="include":f.crossorigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function w(f){if(f.ep)return;f.ep=!0;const v=e(f);fetch(f.href,v)}};de();var le={exports:{}};(function(r){(function(i){var e=K(),w=b(),f=h(),v=l(),M={imagePlaceholder:void 0,cacheBust:!1},d={toSvg:A,toPng:O,toJpeg:G,toBlob:z,toPixelData:g,impl:{fontFaces:f,images:v,util:e,inliner:w,options:{}}};r.exports=d;function A(n,t){return t=t||{},j(t),Promise.resolve(n).then(function(c){return q(c,t.filter,!0)}).then(B).then(x).then(o).then(function(c){return V(c,t.width||e.width(n),t.height||e.height(n))});function o(c){return t.bgcolor&&(c.style.backgroundColor=t.bgcolor),t.width&&(c.style.width=t.width+"px"),t.height&&(c.style.height=t.height+"px"),t.style&&Object.keys(t.style).forEach(function(s){c.style[s]=t.style[s]}),c}}function g(n,t){return R(n,t||{}).then(function(o){return o.getContext("2d").getImageData(0,0,e.width(n),e.height(n)).data})}function O(n,t){return R(n,t||{}).then(function(o){return o.toDataURL()})}function G(n,t){return t=t||{},R(n,t).then(function(o){return o.toDataURL("image/jpeg",t.quality||1)})}function z(n,t){return R(n,t||{}).then(e.canvasToBlob)}function j(n){typeof n.imagePlaceholder=="undefined"?d.impl.options.imagePlaceholder=M.imagePlaceholder:d.impl.options.imagePlaceholder=n.imagePlaceholder,typeof n.cacheBust=="undefined"?d.impl.options.cacheBust=M.cacheBust:d.impl.options.cacheBust=n.cacheBust}function R(n,t){return A(n,t).then(e.makeImage).then(e.delay(100)).then(function(c){var s=o(n);return s.getContext("2d").drawImage(c,0,0),s});function o(c){var s=document.createElement("canvas");if(s.width=t.width||e.width(c),s.height=t.height||e.height(c),t.bgcolor){var p=s.getContext("2d");p.fillStyle=t.bgcolor,p.fillRect(0,0,s.width,s.height)}return s}}function q(n,t,o){if(!o&&t&&!t(n))return Promise.resolve();return Promise.resolve(n).then(c).then(function(u){return s(n,u,t)}).then(function(u){return p(n,u)});function c(u){return u instanceof HTMLCanvasElement?e.makeImage(u.toDataURL()):u.cloneNode(!1)}function s(u,m,I){var U=u.childNodes;if(U.length===0)return Promise.resolve(m);return E(m,e.asArray(U),I).then(function(){return m});function E(C,k,T){var $=Promise.resolve();return k.forEach(function(W){$=$.then(function(){return q(W,T)}).then(function(N){N&&C.appendChild(N)})}),$}}function p(u,m){if(!(m instanceof Element))return m;return Promise.resolve().then(I).then(U).then(E).then(C).then(function(){return m});function I(){k(window.getComputedStyle(u),m.style);function k(T,$){T.cssText?$.cssText=T.cssText:W(T,$);function W(N,H){e.asArray(N).forEach(function(a){H.setProperty(a,N.getPropertyValue(a),N.getPropertyPriority(a))})}}}function U(){[":before",":after"].forEach(function(T){k(T)});function k(T){var $=window.getComputedStyle(u,T),W=$.getPropertyValue("content");if(W===""||W==="none")return;var N=e.uid();m.className=m.className+" "+N;var H=document.createElement("style");H.appendChild(a(N,T,$)),m.appendChild(H);function a(y,S,P){var F="."+y+":"+S,J=P.cssText?oe(P):re(P);return document.createTextNode(F+"{"+J+"}");function oe(Y){var _=Y.getPropertyValue("content");return Y.cssText+" content: "+_+";"}function re(Y){return e.asArray(Y).map(_).join("; ")+";";function _(Z){return Z+": "+Y.getPropertyValue(Z)+(Y.getPropertyPriority(Z)?" !important":"")}}}}}function E(){u instanceof HTMLTextAreaElement&&(m.innerHTML=u.value),u instanceof HTMLInputElement&&m.setAttribute("value",u.value)}function C(){m instanceof SVGElement&&(m.setAttribute("xmlns","http://www.w3.org/2000/svg"),m instanceof SVGRectElement&&["width","height"].forEach(function(k){var T=m.getAttribute(k);!T||m.style.setProperty(k,T)}))}}}function B(n){return f.resolveAll().then(function(t){var o=document.createElement("style");return n.appendChild(o),o.appendChild(document.createTextNode(t)),n})}function x(n){return v.inlineAll(n).then(function(){return n})}function V(n,t,o){return Promise.resolve(n).then(function(c){return c.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(c)}).then(e.escapeXhtml).then(function(c){return'<foreignObject x="0" y="0" width="100%" height="100%">'+c+"</foreignObject>"}).then(function(c){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+o+'">'+c+"</svg>"}).then(function(c){return"data:image/svg+xml;charset=utf-8,"+c})}function K(){return{escape:C,parseExtension:t,mimeType:o,dataAsUrl:E,isDataUrl:c,canvasToBlob:p,resolveUrl:u,getAndEncode:U,uid:m(),delay:k,asArray:T,escapeXhtml:$,makeImage:I,width:W,height:N};function n(){var a="application/font-woff",y="image/jpeg";return{woff:a,woff2:a,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:y,jpeg:y,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function t(a){var y=/\.([^\.\/]*?)$/g.exec(a);return y?y[1]:""}function o(a){var y=t(a).toLowerCase();return n()[y]||""}function c(a){return a.search(/^(data:)/)!==-1}function s(a){return new Promise(function(y){for(var S=window.atob(a.toDataURL().split(",")[1]),P=S.length,F=new Uint8Array(P),J=0;J<P;J++)F[J]=S.charCodeAt(J);y(new Blob([F],{type:"image/png"}))})}function p(a){return a.toBlob?new Promise(function(y){a.toBlob(y)}):s(a)}function u(a,y){var S=document.implementation.createHTMLDocument(),P=S.createElement("base");S.head.appendChild(P);var F=S.createElement("a");return S.body.appendChild(F),P.href=y,F.href=a,F.href}function m(){var a=0;return function(){return"u"+y()+a++;function y(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function I(a){return new Promise(function(y,S){var P=new Image;P.onload=function(){y(P)},P.onerror=S,P.src=a})}function U(a){var y=3e4;return d.impl.options.cacheBust&&(a+=(/\?/.test(a)?"&":"?")+new Date().getTime()),new Promise(function(S){var P=new XMLHttpRequest;P.onreadystatechange=oe,P.ontimeout=re,P.responseType="blob",P.timeout=y,P.open("GET",a,!0),P.send();var F;if(d.impl.options.imagePlaceholder){var J=d.impl.options.imagePlaceholder.split(/,/);J&&J[1]&&(F=J[1])}function oe(){if(P.readyState===4){if(P.status!==200){F?S(F):Y("cannot fetch resource: "+a+", status: "+P.status);return}var _=new FileReader;_.onloadend=function(){var Z=_.result.split(/,/)[1];S(Z)},_.readAsDataURL(P.response)}}function re(){F?S(F):Y("timeout of "+y+"ms occured while fetching resource: "+a)}function Y(_){console.error(_),S("")}})}function E(a,y){return"data:"+y+";base64,"+a}function C(a){return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function k(a){return function(y){return new Promise(function(S){setTimeout(function(){S(y)},a)})}}function T(a){for(var y=[],S=a.length,P=0;P<S;P++)y.push(a[P]);return y}function $(a){return a.replace(/#/g,"%23").replace(/\n/g,"%0A")}function W(a){var y=H(a,"border-left-width"),S=H(a,"border-right-width");return a.scrollWidth+y+S}function N(a){var y=H(a,"border-top-width"),S=H(a,"border-bottom-width");return a.scrollHeight+y+S}function H(a,y){var S=window.getComputedStyle(a).getPropertyValue(y);return parseFloat(S.replace("px",""))}}function b(){var n=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:s,shouldProcess:t,impl:{readUrls:o,inline:c}};function t(p){return p.search(n)!==-1}function o(p){for(var u=[],m;(m=n.exec(p))!==null;)u.push(m[1]);return u.filter(function(I){return!e.isDataUrl(I)})}function c(p,u,m,I){return Promise.resolve(u).then(function(E){return m?e.resolveUrl(E,m):E}).then(I||e.getAndEncode).then(function(E){return e.dataAsUrl(E,e.mimeType(u))}).then(function(E){return p.replace(U(u),"$1"+E+"$3")});function U(E){return new RegExp(`(url\\(['"]?)(`+e.escape(E)+`)(['"]?\\))`,"g")}}function s(p,u,m){if(I())return Promise.resolve(p);return Promise.resolve(p).then(o).then(function(U){var E=Promise.resolve(p);return U.forEach(function(C){E=E.then(function(k){return c(k,C,u,m)})}),E});function I(){return!t(p)}}}function h(){return{resolveAll:n,impl:{readAll:t}};function n(){return t().then(function(o){return Promise.all(o.map(function(c){return c.resolve()}))}).then(function(o){return o.join(`
`)})}function t(){return Promise.resolve(e.asArray(document.styleSheets)).then(c).then(o).then(function(p){return p.map(s)});function o(p){return p.filter(function(u){return u.type===CSSRule.FONT_FACE_RULE}).filter(function(u){return w.shouldProcess(u.style.getPropertyValue("src"))})}function c(p){var u=[];return p.forEach(function(m){try{e.asArray(m.cssRules||[]).forEach(u.push.bind(u))}catch(I){console.log("Error while reading CSS rules from "+m.href,I.toString())}}),u}function s(p){return{resolve:function(){var m=(p.parentStyleSheet||{}).href;return w.inlineAll(p.cssText,m)},src:function(){return p.style.getPropertyValue("src")}}}}}function l(){return{inlineAll:t,impl:{newImage:n}};function n(o){return{inline:c};function c(s){return e.isDataUrl(o.src)?Promise.resolve():Promise.resolve(o.src).then(s||e.getAndEncode).then(function(p){return e.dataAsUrl(p,e.mimeType(o.src))}).then(function(p){return new Promise(function(u,m){o.onload=u,o.onerror=m,o.src=p})})}}function t(o){if(!(o instanceof Element))return Promise.resolve(o);return c(o).then(function(){return o instanceof HTMLImageElement?n(o).inline():Promise.all(e.asArray(o.childNodes).map(function(s){return t(s)}))});function c(s){var p=s.style.getPropertyValue("background");return p?w.inlineAll(p).then(function(u){s.style.setProperty("background",u,s.style.getPropertyPriority("background"))}).then(function(){return s}):Promise.resolve(s)}}}})()})(le);var ge=le.exports;const ie=new Set(["Australian Greens","Australian Labor Party","Liberal-National Coalition"]),he=new Map([["Australian Greens","brocolli"],["Australian Labor Party","tomatoes"],["Liberal-National Coalition","blueberries"]]),me=new Map([["National Party","Liberal-National Coalition"],["Liberal Party","Liberal-National Coalition"],["Liberal National Party","Liberal-National Coalition"],["Country Liberal Party","Liberal-National Coalition"]]),ye=r=>{let i=4,e=1;for(;i;)e*=r- --i;return e},L=new Proxy(window.console,{get(){return()=>{}}}),D=(r,i,e=[])=>{var w;return(w=r.get(i))!=null?w:r.set(i,e)&&e},ve=async()=>{const r=await fetch("/db.json").then(d=>d.json()),i=Object.keys(r.people),e=new Map(Object.entries(r.people)),w=new Map(Object.entries(r.policies)),f=new Map,v=new Map;let M=0;for(const[d,A]of e){const g=A.name[0].replace(/-/g,"").toLowerCase(),O=D(v,g);A.index=++M,A.lookup={name:g,list:O,index:O.push(d)},A.policies=new Map(Object.entries(A.policies));const G=D(f,A.party,{policies:new Map,people:[]});G.people.push(d);const z=me.get(A.party),j=z&&D(f,z,{policies:new Map,people:[]});j&&j.people.push(d);for(const[R,q]of A.policies){if(q%100)continue;const B=w.get(R);if(!B)continue;B.parties||(B.parties=new Map);const x=D(B.parties,A.party,{for:[],against:[]});if(q?x.for.push(d):x.against.push(d),G.policies.has(R)||G.policies.set(R,x),!z)continue;const V=D(B.parties,z,{for:[],against:[]});q?V.for.push(d):V.against.push(d),j.policies.has(R)||j.policies.set(R,V)}}return L.log("NAMES",v),L.log("POLICIES",w),L.log("PARTIES",f),{permutations:ye(e.size).toLocaleString(),names:v,ids:i,people:e,policies:w,parties:f}},we=r=>{if(r.length<2)return;const i=r.slice(1).split("/"),e=i.pop().split("-"),w=i.length?i.pop().split(/\B/):[],f=w.slice(),v=[];for(const M of e){const d=X.names.get(M);if(!d)continue;let A=0;d.length>1&&w.length&&(L.log(d),A=Math.max(1,Math.min(d.length,parseInt(w.shift(),36)))-1),v.push(d[A])}return L.log("PARSE",r,i,f,v),v},Pe=(...r)=>{const i=[];let e="";for(const w of r){const f=X.people.get(w);f&&(i.push(f.lookup.name),f.lookup.list.length>1&&(e+=f.lookup.index.toString(36)))}return L.log({names:i,indexes:e},[""].concat(e||[],i.join("-")).join("/")),[""].concat(e||[],i.join("-")).join("/")},be=330/800,Se=300/800;let ne,ee,ue=0;const $e=document.querySelector(".description"),Ae=document.querySelector(".twitter"),Ee=document.querySelector(".email"),Q=document.querySelector(".partials"),ae=document.querySelectorAll(".partial-image"),Le=document.querySelectorAll(".info"),fe=r=>{++ue>=ae.length&&setTimeout(()=>{delete Q.dataset.loading},500)},Te=r=>{if(r.target.classList.contains("default"))return fe();r.target.parentElement.parentElement.style="",r.target.parentElement.style="",r.target.classList.add("default"),r.target.src="/assets/whereswilma.webp"};Q.addEventListener("load",fe,!0);Q.addEventListener("error",Te,!0);const Me=(r=[])=>{var e;const i=[];for(;i.length<ae.length;){const w=(e=r[i.length])!=null?e:X.ids[Math.floor(Math.random()*X.ids.length)];w&&!i.includes(w)&&X.people.get(w)&&i.push(w)}return i},se=r=>{ue=0,Q.dataset.alt=+Q.dataset.alt?0:1,Q.dataset.loading=1;const i=[0,0],e=[],w=new Map,f=Me(r);let v=1;for(const[d,A]of Object.entries(f)){const g=X.people.get(A);v*=g.index;const O=ae[d],G=g.image,z="/assets/manofmystery.webp";O.src=G?`/assets/people/${A}.webp`:z,O.classList.toggle("default",!G);const j=new Map;let R=0;for(const[b,h]of g.policies){const l=D(w,b,{aggregate:0,count:0,parties:new Map,people:{names:[],ids:[],parties:new Set}});if(l.people.names.push(g.name[0]),l.people.ids.push(A),l.people.parties.add(g.party),l.aggregate+=h,++l.count,h%100)continue;++R;const n=2*h/100-1,t=[];for(const[o,c]of X.policies.get(b).parties){const s=Math.max(-1,Math.min(1,c.for.length-c.against.length));if(s&&l.parties.set(o,s),!ie.has(o)||s!==n)continue;t.push(o),D(j,o).push(b)}t.length||D(j,"Other").push(b)}let q=0;const B=Array.from(j).sort(([b,h],[l,n])=>(q=Math.max(q,h.length,n.length),n.length-h.length||(b===g.party?1:0)));q||(q=B[0][1].length,L.log({alignmentMax:q},B));const x=Le[d];if(x){const b=`${g.house[0]==="s"?"Senator":"Representative"} for ${g.electorate}`,h=g.offices.length?[g.offices[0].replace(/ (to|for) .*?(?= \(|$)/,"")]:[];x.dataset.party=g.party.toLowerCase().replace(/ /g,"-").replace(/[^a-z-]/g,""),x.querySelector("img").src=O.classList.contains("default")?O.src:O.src.replace(".webp","-sm.webp"),x.querySelector(".name").innerText=g.name.join(" "),x.querySelector(".role").innerText=b,x.querySelector(".party").innerText=g.party==="CWM"?"":g.party,x.querySelector(".offices").innerHTML=h.concat(g.offices.length>1?`+${g.offices.length-1} more offices`:[]).join("<br>"),x.querySelector(".votes").innerHTML=`Consistent votes: ${R.toLocaleString()}`;for(const l of x.querySelectorAll(".partial-alignment li"))l.style=null;x.querySelector(".partial-alignment").title=`${g.name[0]}'s consistent voting alignment with the major parties`;for(const[l,[n,t]]of Object.entries(B)){L.log(n);const o=x.querySelector(`.partial-alignment li[data-party="${n}"]`);o.style.order=+l+1,o.style.width=`${Math.round(100*t.length/q)}%`,L.log(l,n,t)}}L.log(A,g.name,g.party,g),L.log("ALIGNMENT",j),L.log(B),e.push(g.name[0]);let V,K;if(G){const b=g.image[36],h=g.image[45],l=g.image[8],n=g.image[0],t=g.image[16],o=[h[0]-b[0],h[1]-b[1]],c=[l[0]-b[0],l[1]-b[1]],s=[b[0]-n[0],b[1]-n[1]],p=[t[0]-h[0],t[1]-h[1]],u=(o[0]**2+o[1]**2)**.5,m=(c[0]**2+c[1]**2)**.5,I=(s[0]**2+s[1]**2)**.5,U=(p[0]**2+p[1]**2)**.5,E=Math.atan(o[1]/o[0]),C=Math.atan(c[1]/c[0]),k=Math.sin(C-E)*m,T=I>U?1:-1,$=Se/k,W=.5-b[0]-$*u/2,N=be-b[1];if(d==0){const H=N*$-b[1]*($-1);i[0]=Math.max(0,H)}else if(d==f.length-1){const H=(1-b[1])*($-1)+N*$;i[1]=Math.max(0,-H)}T<0&&(V=`transform: scaleX(${T});`),K=`transform: translate(${W*100}%, ${N*100}%) scale(${$}, ${$}) rotate(${-E}rad); transform-origin: ${b[0]*100}% ${b[1]*100}%;`}O.parentElement.parentElement.style=V,O.parentElement.style=K}const M=(i[1]-i[0])/4;Q.style=`transform: translateY(${M*100}%)`,L.log({topBottomTransform:i,offsetTransformY:M}),ne=`${e[0]} "the ${e[1]}" ${e[2]}-${e[3]}`;for(const d of document.querySelectorAll(".pollie"))d.dataset.permutation=v.toLocaleString(),d.dataset.permutations=X.permutations.toLocaleString(),d.innerText=ne;ee=Pe(...f),history.state&&history.state.ids&&history.state.ids.join("")!==f.join("")?(L.log("PUSH STATE!",history.state,ee),history.pushState({ids:f},"",ee)):(L.log("REPLACE STATE!"),history.replaceState({ids:f},"",ee)),Ae.href=je(ne),Ee.href=xe(),qe(w)},je=r=>{const i=new URL("https://twitter.com/intent/tweet");return i.searchParams.set("text",`${r} is truly the Perfect \u2764\uFE0F Pollie`),i.searchParams.set("url",location.origin+location.pathname),i},xe=r=>{const i=encodeURIComponent(`Hey I found the the Perfect Pollie -

${location.origin+location.pathname}

Love ya guts!`);return`mailto:?subject=${encodeURIComponent("found the the perfect pollie")}&body=${i}`},ce=r=>r.length<=2?r.join(" and "):r.slice(0,-2).join(", ").concat(", ",r.slice(-2).join(" and ")),Ce=document.querySelector(".policies-bigticket"),Ie=document.querySelector(".policies-for-bigticket"),Oe=document.querySelector(".policies-for-major"),Re=document.querySelector(".policies-for");document.querySelector(".policies-against-bigticket");document.querySelector(".policies-against-major");document.querySelector(".policies-against");const ke=document.querySelectorAll(".alignment li"),qe=r=>{var x,V,K,b;let i=0,e=0;const w=new Map,f=new Map,v=new Map,M=new Map;for(const[h,l]of r){const n=l.aggregate/l.count;let t;if(n===100)t=v;else if(n===0)t=M;else continue;const o=X.policies.get(h),c=2*n/100-1,s=l.count**2;s>10&&L.log(h,o.name,l.count,s);const p=[],u=[];for(const[C,k]of l.parties)if(c===k){u.push(C);const T=D(w,C,{score:0,total:0});if(ie.has(C)){p.push(h);const $=D(f,C,{score:0,total:0});$[h]=s,$.score+=s,++$.total,e+=s,s>10&&L.log($,C,c,k)}T[h]=s,T.score+=s,i+=s}if(!p.length){const C=D(f,"Other",{score:0,total:0});C[h]=s,C.score+=s,++C.total,e+=s}const m=D(t,l.count),I=ce(l.people.names),U=l.count>1?"agree":"agrees",E=l.count>1?"do not agree":"does not agree";m.push(`<li class="${n?"is-for":"is-against"}">
      <details>
        <summary title="${I} ${U} this is a ${n?"great":"terrible"} policy" data-count="${l.count}">${o.name}</summary>
        <p><i>${I}</i> ${n?U:E} that ${o.description}
          <br><small>Aligned Parties: ${u.sort().join(", ")}</small>
        </p>
      </details>
    </li>`)}L.log("POLICY ALIGNMENT",i,w),L.log("POLICY ALIGNMENT MAJOR",e,f);let d,A=0;const g=[],O=[];for(const[h,l]of f)l.percent=100*l.score/e,l.percentRounded=Math.ceil(l.percent),A+=l.percentRounded,(!d||l.score>d.score)&&(d=l),(h!=="Other"||l.percent>75)&&(l.percent>=25?g.push(h):l.percent>10&&O.push(he.get(h)));d.percentRounded+=100-A;for(const h of ke){const l=f.get(h.dataset.party);delete h.dataset.primary,l?(h.style.width=`${l.percent}%`,h.style.order=h.dataset.percent=l.percentRounded,h.dataset.score=l.score,h.dataset.total=l.total,d===l&&(h.dataset.primary="1")):(delete h.dataset.total,delete h.dataset.score,delete h.dataset.percent,h.style=null)}const G=[].concat(v.get(2)||[],v.get(1)||[]),z=[].concat(M.get(2)||[],M.get(1)||[]),j=((V=(x=v.get(4))==null?void 0:x.length)!=null?V:0)+((b=(K=M.get(4))==null?void 0:K.length)!=null?b:0);Ce.dataset.total=j,Ie.innerHTML=(v.get(4)||[]).join("")+(M.get(4)||[]).join(""),Oe.innerHTML=(v.get(3)||[]).join("")+(M.get(3)||[]).join(""),Re.innerHTML=G.join("")+z.join("");const R=f.get("Other"),q=g.length===ie.size,B=[`<i>${ne}</i>`].concat(j?"has":"has the look, but doesn't have any",j>5?"any number of":j||[],`<a href="#big-ticket-policies">big ticket ${j===1?"policy":"policies"}</a>`,d.percent>=75?(g[0]==="Other"?"and is essentially a bizarre non-conformist":`${j<5?"&hellip; and":"but"} `+(j?"(of course) is essentially a":"is really just a plain-packaged")+` <span class="party-align">${g[0]}</span> stooge`)+` (who enjoys a side of ${ce(O)})`:`${j?"and susbscribes to":"&hellip; despite subscribing to"} `+(q?"a confused middle ground in the divine trinity of major party ideaologies":"a soggy sandwich of "+(g.length>1?`<span class="party-align">${g.join('</span> and <span class="party-align">')}</span>`:`<span class="party-align">${g[0]}</span>`)+" thinking"+(O.length?` (with a side of ${O.join(" and ")})`:""))+(R?`. And, in true Canberra style, tops things off with ${R.percent<2?"an efficient smidge":R.percent<10&&"conservative pinch"||"fair dollop"} of bizarre otherness`:"")).join(" ").concat(".");$e.innerHTML=B};document.querySelector(".btn-refresh").addEventListener("click",r=>{r.target.blur(),document.body.focus(),se()});window.addEventListener("popstate",({state:r})=>{r&&r.ids&&se(r.ids),L.log("POPSTATE",r)});const Ue=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Ne=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,pe=async r=>{const i=643.2/te.offsetWidth,e=await ge.toJpeg(te,{width:te.offsetWidth*i,height:te.offsetHeight*i,style:{transform:`scale(${i})`,transformOrigin:"0 0"},bgcolor:"#fff"});return Ue&&!r?pe(!0):e};for(const r of document.querySelectorAll("[data-hint]")){const i=r.dataset.hint==="over"?"pointerover":"click";r.addEventListener(i,()=>{delete r.dataset.hint},{once:!0})}const te=document.querySelector(".image");document.querySelector(".copy").addEventListener("click",()=>{navigator.clipboard.writeText(location.origin+location.pathname).then(()=>{L.log("saved!")},()=>{L.log("whoops!")})});document.querySelector(".save").addEventListener("click",async()=>{const r=Ne&&window.open("about:blank","_blank"),i=await pe();if(r)r.location.href=i;else{const e=document.createElement("a");e.download=`${location.pathname.slice(1).replace(/([^\/]+)\/(.*)$/,"$2-$1")}.jpg`,e.href=i,e.click()}});let X;const Be=async()=>{X=await ve();const r=document.querySelector(".combos");r&&(r.innerText=X.permutations);const i=we(location.pathname);se(i)};Be();
