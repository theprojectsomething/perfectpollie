const de=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))h(f);new MutationObserver(f=>{for(const w of f)if(w.type==="childList")for(const j of w.addedNodes)j.tagName==="LINK"&&j.rel==="modulepreload"&&h(j)}).observe(document,{childList:!0,subtree:!0});function e(f){const w={};return f.integrity&&(w.integrity=f.integrity),f.referrerpolicy&&(w.referrerPolicy=f.referrerpolicy),f.crossorigin==="use-credentials"?w.credentials="include":f.crossorigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function h(f){if(f.ep)return;f.ep=!0;const w=e(f);fetch(f.href,w)}};de();var le={exports:{}};(function(r){(function(i){var e=K(),h=b(),f=m(),w=l(),j={imagePlaceholder:void 0,cacheBust:!1},d={toSvg:$,toPng:I,toJpeg:G,toBlob:z,toPixelData:g,impl:{fontFaces:f,images:w,util:e,inliner:h,options:{}}};r.exports=d;function $(n,t){return t=t||{},M(t),Promise.resolve(n).then(function(c){return k(c,t.filter,!0)}).then(B).then(x).then(o).then(function(c){return V(c,t.width||e.width(n),t.height||e.height(n))});function o(c){return t.bgcolor&&(c.style.backgroundColor=t.bgcolor),t.width&&(c.style.width=t.width+"px"),t.height&&(c.style.height=t.height+"px"),t.style&&Object.keys(t.style).forEach(function(s){c.style[s]=t.style[s]}),c}}function g(n,t){return O(n,t||{}).then(function(o){return o.getContext("2d").getImageData(0,0,e.width(n),e.height(n)).data})}function I(n,t){return O(n,t||{}).then(function(o){return o.toDataURL()})}function G(n,t){return t=t||{},O(n,t).then(function(o){return o.toDataURL("image/jpeg",t.quality||1)})}function z(n,t){return O(n,t||{}).then(e.canvasToBlob)}function M(n){typeof n.imagePlaceholder=="undefined"?d.impl.options.imagePlaceholder=j.imagePlaceholder:d.impl.options.imagePlaceholder=n.imagePlaceholder,typeof n.cacheBust=="undefined"?d.impl.options.cacheBust=j.cacheBust:d.impl.options.cacheBust=n.cacheBust}function O(n,t){return $(n,t).then(e.makeImage).then(e.delay(100)).then(function(c){var s=o(n);return s.getContext("2d").drawImage(c,0,0),s});function o(c){var s=document.createElement("canvas");if(s.width=t.width||e.width(c),s.height=t.height||e.height(c),t.bgcolor){var p=s.getContext("2d");p.fillStyle=t.bgcolor,p.fillRect(0,0,s.width,s.height)}return s}}function k(n,t,o){if(!o&&t&&!t(n))return Promise.resolve();return Promise.resolve(n).then(c).then(function(u){return s(n,u,t)}).then(function(u){return p(n,u)});function c(u){return u instanceof HTMLCanvasElement?e.makeImage(u.toDataURL()):u.cloneNode(!1)}function s(u,y,R){var q=u.childNodes;if(q.length===0)return Promise.resolve(y);return A(y,e.asArray(q),R).then(function(){return y});function A(C,U,T){var L=Promise.resolve();return U.forEach(function(W){L=L.then(function(){return k(W,T)}).then(function(N){N&&C.appendChild(N)})}),L}}function p(u,y){if(!(y instanceof Element))return y;return Promise.resolve().then(R).then(q).then(A).then(C).then(function(){return y});function R(){U(window.getComputedStyle(u),y.style);function U(T,L){T.cssText?L.cssText=T.cssText:W(T,L);function W(N,H){e.asArray(N).forEach(function(a){H.setProperty(a,N.getPropertyValue(a),N.getPropertyPriority(a))})}}}function q(){[":before",":after"].forEach(function(T){U(T)});function U(T){var L=window.getComputedStyle(u,T),W=L.getPropertyValue("content");if(W===""||W==="none")return;var N=e.uid();y.className=y.className+" "+N;var H=document.createElement("style");H.appendChild(a(N,T,L)),y.appendChild(H);function a(v,S,P){var F="."+v+":"+S,J=P.cssText?oe(P):re(P);return document.createTextNode(F+"{"+J+"}");function oe(Y){var _=Y.getPropertyValue("content");return Y.cssText+" content: "+_+";"}function re(Y){return e.asArray(Y).map(_).join("; ")+";";function _(Z){return Z+": "+Y.getPropertyValue(Z)+(Y.getPropertyPriority(Z)?" !important":"")}}}}}function A(){u instanceof HTMLTextAreaElement&&(y.innerHTML=u.value),u instanceof HTMLInputElement&&y.setAttribute("value",u.value)}function C(){y instanceof SVGElement&&(y.setAttribute("xmlns","http://www.w3.org/2000/svg"),y instanceof SVGRectElement&&["width","height"].forEach(function(U){var T=y.getAttribute(U);!T||y.style.setProperty(U,T)}))}}}function B(n){return f.resolveAll().then(function(t){var o=document.createElement("style");return n.appendChild(o),o.appendChild(document.createTextNode(t)),n})}function x(n){return w.inlineAll(n).then(function(){return n})}function V(n,t,o){return Promise.resolve(n).then(function(c){return c.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(c)}).then(e.escapeXhtml).then(function(c){return'<foreignObject x="0" y="0" width="100%" height="100%">'+c+"</foreignObject>"}).then(function(c){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+o+'">'+c+"</svg>"}).then(function(c){return"data:image/svg+xml;charset=utf-8,"+c})}function K(){return{escape:C,parseExtension:t,mimeType:o,dataAsUrl:A,isDataUrl:c,canvasToBlob:p,resolveUrl:u,getAndEncode:q,uid:y(),delay:U,asArray:T,escapeXhtml:L,makeImage:R,width:W,height:N};function n(){var a="application/font-woff",v="image/jpeg";return{woff:a,woff2:a,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:v,jpeg:v,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function t(a){var v=/\.([^\.\/]*?)$/g.exec(a);return v?v[1]:""}function o(a){var v=t(a).toLowerCase();return n()[v]||""}function c(a){return a.search(/^(data:)/)!==-1}function s(a){return new Promise(function(v){for(var S=window.atob(a.toDataURL().split(",")[1]),P=S.length,F=new Uint8Array(P),J=0;J<P;J++)F[J]=S.charCodeAt(J);v(new Blob([F],{type:"image/png"}))})}function p(a){return a.toBlob?new Promise(function(v){a.toBlob(v)}):s(a)}function u(a,v){var S=document.implementation.createHTMLDocument(),P=S.createElement("base");S.head.appendChild(P);var F=S.createElement("a");return S.body.appendChild(F),P.href=v,F.href=a,F.href}function y(){var a=0;return function(){return"u"+v()+a++;function v(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function R(a){return new Promise(function(v,S){var P=new Image;P.onload=function(){v(P)},P.onerror=S,P.src=a})}function q(a){var v=3e4;return d.impl.options.cacheBust&&(a+=(/\?/.test(a)?"&":"?")+new Date().getTime()),new Promise(function(S){var P=new XMLHttpRequest;P.onreadystatechange=oe,P.ontimeout=re,P.responseType="blob",P.timeout=v,P.open("GET",a,!0),P.send();var F;if(d.impl.options.imagePlaceholder){var J=d.impl.options.imagePlaceholder.split(/,/);J&&J[1]&&(F=J[1])}function oe(){if(P.readyState===4){if(P.status!==200){F?S(F):Y("cannot fetch resource: "+a+", status: "+P.status);return}var _=new FileReader;_.onloadend=function(){var Z=_.result.split(/,/)[1];S(Z)},_.readAsDataURL(P.response)}}function re(){F?S(F):Y("timeout of "+v+"ms occured while fetching resource: "+a)}function Y(_){console.error(_),S("")}})}function A(a,v){return"data:"+v+";base64,"+a}function C(a){return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function U(a){return function(v){return new Promise(function(S){setTimeout(function(){S(v)},a)})}}function T(a){for(var v=[],S=a.length,P=0;P<S;P++)v.push(a[P]);return v}function L(a){return a.replace(/#/g,"%23").replace(/\n/g,"%0A")}function W(a){var v=H(a,"border-left-width"),S=H(a,"border-right-width");return a.scrollWidth+v+S}function N(a){var v=H(a,"border-top-width"),S=H(a,"border-bottom-width");return a.scrollHeight+v+S}function H(a,v){var S=window.getComputedStyle(a).getPropertyValue(v);return parseFloat(S.replace("px",""))}}function b(){var n=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:s,shouldProcess:t,impl:{readUrls:o,inline:c}};function t(p){return p.search(n)!==-1}function o(p){for(var u=[],y;(y=n.exec(p))!==null;)u.push(y[1]);return u.filter(function(R){return!e.isDataUrl(R)})}function c(p,u,y,R){return Promise.resolve(u).then(function(A){return y?e.resolveUrl(A,y):A}).then(R||e.getAndEncode).then(function(A){return e.dataAsUrl(A,e.mimeType(u))}).then(function(A){return p.replace(q(u),"$1"+A+"$3")});function q(A){return new RegExp(`(url\\(['"]?)(`+e.escape(A)+`)(['"]?\\))`,"g")}}function s(p,u,y){if(R())return Promise.resolve(p);return Promise.resolve(p).then(o).then(function(q){var A=Promise.resolve(p);return q.forEach(function(C){A=A.then(function(U){return c(U,C,u,y)})}),A});function R(){return!t(p)}}}function m(){return{resolveAll:n,impl:{readAll:t}};function n(){return t().then(function(o){return Promise.all(o.map(function(c){return c.resolve()}))}).then(function(o){return o.join(`
`)})}function t(){return Promise.resolve(e.asArray(document.styleSheets)).then(c).then(o).then(function(p){return p.map(s)});function o(p){return p.filter(function(u){return u.type===CSSRule.FONT_FACE_RULE}).filter(function(u){return h.shouldProcess(u.style.getPropertyValue("src"))})}function c(p){var u=[];return p.forEach(function(y){try{e.asArray(y.cssRules||[]).forEach(u.push.bind(u))}catch(R){console.log("Error while reading CSS rules from "+y.href,R.toString())}}),u}function s(p){return{resolve:function(){var y=(p.parentStyleSheet||{}).href;return h.inlineAll(p.cssText,y)},src:function(){return p.style.getPropertyValue("src")}}}}}function l(){return{inlineAll:t,impl:{newImage:n}};function n(o){return{inline:c};function c(s){return e.isDataUrl(o.src)?Promise.resolve():Promise.resolve(o.src).then(s||e.getAndEncode).then(function(p){return e.dataAsUrl(p,e.mimeType(o.src))}).then(function(p){return new Promise(function(u,y){o.onload=u,o.onerror=y,o.src=p})})}}function t(o){if(!(o instanceof Element))return Promise.resolve(o);return c(o).then(function(){return o instanceof HTMLImageElement?n(o).inline():Promise.all(e.asArray(o.childNodes).map(function(s){return t(s)}))});function c(s){var p=s.style.getPropertyValue("background");return p?h.inlineAll(p).then(function(u){s.style.setProperty("background",u,s.style.getPropertyPriority("background"))}).then(function(){return s}):Promise.resolve(s)}}}})()})(le);var he=le.exports;const ie=new Set(["Australian Greens","Australian Labor Party","Liberal-National Coalition"]),ge=new Map([["Australian Greens","brocolli"],["Australian Labor Party","tomatoes"],["Liberal-National Coalition","blueberries"]]),me=new Map([["National Party","Liberal-National Coalition"],["Liberal Party","Liberal-National Coalition"],["Liberal National Party","Liberal-National Coalition"],["Country Liberal Party","Liberal-National Coalition"]]),ye=r=>{let i=4,e=1;for(;i;)e*=r- --i;return e},E=new Proxy(window.console,{get(){return()=>{}}}),D=(r,i,e=[])=>{var h;return(h=r.get(i))!=null?h:r.set(i,e)&&e},ve=async()=>{const r=await fetch("/db.json").then(d=>d.json()),i=Object.keys(r.people),e=new Map(Object.entries(r.people)),h=new Map(Object.entries(r.policies)),f=new Map,w=new Map;let j=0;for(const[d,$]of e){const g=$.name[0].replace(/-/g,"").toLowerCase(),I=D(w,g);$.index=++j,$.lookup={name:g,list:I,index:I.push(d)},$.policies=new Map(Object.entries($.policies));const G=D(f,$.party,{policies:new Map,people:[]});G.people.push(d);const z=me.get($.party),M=z&&D(f,z,{policies:new Map,people:[]});M&&M.people.push(d);for(const[O,k]of $.policies){if(k%100)continue;const B=h.get(O);if(!B)continue;B.parties||(B.parties=new Map);const x=D(B.parties,$.party,{for:[],against:[]});if(k?x.for.push(d):x.against.push(d),G.policies.has(O)||G.policies.set(O,x),!z)continue;const V=D(B.parties,z,{for:[],against:[]});k?V.for.push(d):V.against.push(d),M.policies.has(O)||M.policies.set(O,V)}}return E.log("NAMES",w),E.log("POLICIES",h),E.log("PARTIES",f),{permutations:ye(e.size).toLocaleString(),names:w,ids:i,people:e,policies:h,parties:f}},we=r=>{if(r.length<2)return;const i=r.slice(1).split("/"),e=i.pop().split("-"),h=i.length?i.pop().split(/\B/):[],f=h.slice(),w=[];for(const j of e){const d=X.names.get(j);if(!d)continue;let $=0;d.length>1&&h.length&&(E.log(d),$=Math.max(1,Math.min(d.length,parseInt(h.shift(),36)))-1),w.push(d[$])}return E.log("PARSE",r,i,f,w),w},Pe=(...r)=>{const i=[];let e="";for(const h of r){const f=X.people.get(h);f&&(i.push(f.lookup.name),f.lookup.list.length>1&&(e+=f.lookup.index.toString(36)))}return E.log({names:i,indexes:e},[""].concat(e||[],i.join("-")).join("/")),[""].concat(e||[],i.join("-")).join("/")},be=330/800,Se=300/800;let ne,ee,ue=0;const Le=document.querySelector(".description"),$e=document.querySelector(".twitter"),Ae=document.querySelector(".email"),Q=document.querySelector(".partials"),ae=document.querySelectorAll(".partial-image"),Ee=document.querySelectorAll(".info"),fe=r=>{++ue>=ae.length&&setTimeout(()=>{delete Q.dataset.loading},500)},Te=r=>{if(r.target.classList.contains("default"))return fe();r.target.parentElement.parentElement.style="",r.target.parentElement.style="",r.target.classList.add("default"),r.target.src="/assets/whereswilma.webp"};Q.addEventListener("load",fe,!0);Q.addEventListener("error",Te,!0);const je=(r=[])=>{var e;const i=[];for(;i.length<ae.length;){const h=(e=r[i.length])!=null?e:X.ids[Math.floor(Math.random()*X.ids.length)];h&&!i.includes(h)&&X.people.get(h)&&i.push(h)}return i},se=r=>{ue=0,Q.dataset.alt=+Q.dataset.alt?0:1,Q.dataset.loading=1;const i=[0,0],e=[],h=new Map,f=je(r);let w=1;for(const[d,$]of Object.entries(f)){const g=X.people.get($);w*=g.index;const I=ae[d],G=g.image,z="/assets/manofmystery.webp";I.src=G?`/assets/people/${$}.webp`:z,I.classList.toggle("default",!G);const M=new Map;let O=0;for(const[b,m]of g.policies){const l=D(h,b,{aggregate:0,count:0,parties:new Map,people:{names:[],ids:[],parties:new Set}});if(l.people.names.push(g.name[0]),l.people.ids.push($),l.people.parties.add(g.party),l.aggregate+=m,++l.count,m%100)continue;++O;const n=2*m/100-1,t=[];for(const[o,c]of X.policies.get(b).parties){const s=Math.max(-1,Math.min(1,c.for.length-c.against.length));if(s&&l.parties.set(o,s),!ie.has(o)||s!==n)continue;t.push(o),D(M,o).push(b)}t.length||D(M,"Other").push(b)}let k=0;const B=Array.from(M).sort(([b,m],[l,n])=>(k=Math.max(k,m.length,n.length),n.length-m.length||(b===g.party?1:0)));k||(k=B[0][1].length,E.log({alignmentMax:k},B));const x=Ee[d];if(x){const b=`${g.house[0]==="s"?"Senator":"Representative"} for ${g.electorate}`,m=g.offices.length?[g.offices[0].replace(/ (to|for) .*?(?= \(|$)/,"")]:[];x.dataset.party=g.party.toLowerCase().replace(/ /g,"-").replace(/[^a-z-]/g,""),x.querySelector("img").src=I.classList.contains("default")?I.src:I.src.replace(".webp","-sm.webp"),x.querySelector(".name").innerText=g.name.join(" "),x.querySelector(".role").innerText=b,x.querySelector(".party").innerText=g.party==="CWM"?"":g.party,x.querySelector(".offices").innerHTML=m.concat(g.offices.length>1?`+${g.offices.length-1} more offices`:[]).join("<br>"),x.querySelector(".votes").innerHTML=`Consistent votes: ${O.toLocaleString()}`;for(const l of x.querySelectorAll(".partial-alignment li"))l.style=null;x.querySelector(".partial-alignment").title=`${g.name[0]}'s consistent voting alignment with the major parties`;for(const[l,[n,t]]of Object.entries(B)){E.log(n);const o=x.querySelector(`.partial-alignment li[data-party="${n}"]`);o.style.order=+l+1,o.style.width=`${Math.round(100*t.length/k)}%`,E.log(l,n,t)}}E.log($,g.name,g.party,g),E.log("ALIGNMENT",M),E.log(B),e.push(g.name[0]);let V,K;if(G){const b=g.image[36],m=g.image[45],l=g.image[8],n=g.image[0],t=g.image[16],o=[m[0]-b[0],m[1]-b[1]],c=[l[0]-b[0],l[1]-b[1]],s=[b[0]-n[0],b[1]-n[1]],p=[t[0]-m[0],t[1]-m[1]],u=(o[0]**2+o[1]**2)**.5,y=(c[0]**2+c[1]**2)**.5,R=(s[0]**2+s[1]**2)**.5,q=(p[0]**2+p[1]**2)**.5,A=Math.atan(o[1]/o[0]),C=Math.atan(c[1]/c[0]),U=Math.sin(C-A)*y,T=R>q?1:-1,L=Se/U,W=.5-b[0]-L*u/2,N=be-b[1];if(d==0){const H=N*L-b[1]*(L-1);i[0]=Math.max(0,H)}else if(d==f.length-1){const H=(1-b[1])*(L-1)+N*L;i[1]=Math.max(0,-H)}T<0&&(V=`transform: scaleX(${T});`),K=`transform: translate(${W*100}%, ${N*100}%) scale(${L}, ${L}) rotate(${-A}rad); transform-origin: ${b[0]*100}% ${b[1]*100}%;`}I.parentElement.parentElement.style=V,I.parentElement.style=K}const j=(i[1]-i[0])/4;Q.style=`transform: translateY(${j*100}%)`,E.log({topBottomTransform:i,offsetTransformY:j}),ne=`${e[0]} "the ${e[1]}" ${e[2]}-${e[3]}`;for(const d of document.querySelectorAll(".pollie"))d.dataset.permutation=w.toLocaleString(),d.dataset.permutations=X.permutations.toLocaleString(),d.innerText=ne;ee=Pe(...f),history.state&&history.state.ids&&history.state.ids.join("")!==f.join("")?(E.log("PUSH STATE!",history.state,ee),history.pushState({ids:f},"",ee)):(E.log("REPLACE STATE!"),history.replaceState({ids:f},"",ee)),$e.href=Me(ne),Ae.href=xe(),ke(h)},Me=r=>{const i=new URL("https://twitter.com/intent/tweet");return i.searchParams.set("text",`${r} is truly the Perfect \u2764\uFE0F Pollie`),i.searchParams.set("url",location.origin+location.pathname),i},xe=r=>{const i=encodeURIComponent(`Hey I found the the Perfect Pollie -

${location.origin+location.pathname}

Love ya guts!`);return`mailto:?subject=${encodeURIComponent("found the the perfect pollie")}&body=${i}`},ce=r=>r.length<=2?r.join(" and "):r.slice(0,-2).join(", ").concat(", ",r.slice(-2).join(" and ")),Ce=document.querySelector(".policies-bigticket"),Re=document.querySelector(".policies-for-bigticket"),Ie=document.querySelector(".policies-for-major"),Oe=document.querySelector(".policies-for");document.querySelector(".policies-against-bigticket");document.querySelector(".policies-against-major");document.querySelector(".policies-against");const Ue=document.querySelectorAll(".alignment li"),ke=r=>{var x,V,K,b;let i=0,e=0;const h=new Map,f=new Map,w=new Map,j=new Map;for(const[m,l]of r){const n=l.aggregate/l.count;let t;if(n===100)t=w;else if(n===0)t=j;else continue;const o=X.policies.get(m),c=2*n/100-1,s=l.count**2;s>10&&E.log(m,o.name,l.count,s);const p=[],u=[];for(const[C,U]of l.parties)if(c===U){u.push(C);const T=D(h,C,{score:0,total:0});if(ie.has(C)){p.push(m);const L=D(f,C,{score:0,total:0});L[m]=s,L.score+=s,++L.total,e+=s,s>10&&E.log(L,C,c,U)}T[m]=s,T.score+=s,i+=s}if(!p.length){const C=D(f,"Other",{score:0,total:0});C[m]=s,C.score+=s,++C.total,e+=s}const y=D(t,l.count),R=ce(l.people.names),q=l.count>1?"agree":"agrees",A=l.count>1?"do not agree":"does not agree";y.push(`<li class="${n?"is-for":"is-against"}">
      <details>
        <summary title="${R} ${q} this is a ${n?"great":"terrible"} policy" data-count="${l.count}">${o.name}</summary>
        <p><i>${R}</i> ${n?q:A} that ${o.description}
          <br><small>Aligned Parties: ${u.sort().join(", ")}</small>
        </p>
      </details>
    </li>`)}E.log("POLICY ALIGNMENT",i,h),E.log("POLICY ALIGNMENT MAJOR",e,f);let d,$=0;const g=[],I=[];for(const[m,l]of f)l.percent=100*l.score/e,l.percentRounded=Math.ceil(l.percent),$+=l.percentRounded,(!d||l.score>d.score)&&(d=l),(m!=="Other"||l.percent>75)&&(l.percent>=25?g.push(m):l.percent>10&&I.push(ge.get(m)));d.percentRounded+=100-$;for(const m of Ue){const l=f.get(m.dataset.party);delete m.dataset.primary,l?(m.style.width=`${l.percent}%`,m.style.order=m.dataset.percent=l.percentRounded,m.dataset.score=l.score,m.dataset.total=l.total,d===l&&(m.dataset.primary="1")):(delete m.dataset.total,delete m.dataset.score,delete m.dataset.percent,m.style=null)}const G=[].concat(w.get(2)||[],w.get(1)||[]),z=[].concat(j.get(2)||[],j.get(1)||[]),M=((V=(x=w.get(4))==null?void 0:x.length)!=null?V:0)+((b=(K=j.get(4))==null?void 0:K.length)!=null?b:0);Ce.dataset.total=M,Re.innerHTML=(w.get(4)||[]).join("")+(j.get(4)||[]).join(""),Ie.innerHTML=(w.get(3)||[]).join("")+(j.get(3)||[]).join(""),Oe.innerHTML=G.join("")+z.join("");const O=f.get("Other"),k=g.length===ie.size,B=[`<i>${ne}</i>`].concat(M?"has":"has the look, but doesn't have any",M>5?"any number of":M||[],`<a href="#big-ticket-policies">big ticket ${M===1?"policy":"policies"}</a>`,d.percent>=75?(g[0]==="Other"?"and is essentially a bizarre non-conformist":`${M<5?"&hellip; and":"but"} `+(M?"(of course) is essentially a":"is really just a plain-packaged")+` <span class="party-align">${g[0]}</span> stooge`)+` (who enjoys a side of ${ce(I)})`:`${M?"and susbscribes to":"&hellip; despite subscribing to"} `+(k?"a confused middle ground in the divine trinity of major party ideaologies":"a soggy sandwich of "+(g.length>1?`<span class="party-align">${g.join('</span> and <span class="party-align">')}</span>`:`<span class="party-align">${g[0]}</span>`)+" thinking"+(I.length?` (with a side of ${I.join(" and ")})`:""))+(O?`. And, in true Canberra style, tops things off with ${O.percent<2?"an efficient smidge":O.percent<10&&"conservative pinch"||"fair dollop"} of bizarre otherness`:"")).join(" ").concat(".");Le.innerHTML=B};document.querySelector(".btn-refresh").addEventListener("click",r=>{r.target.blur(),document.body.focus(),se()});window.addEventListener("popstate",({state:r})=>{r&&r.ids&&se(r.ids),E.log("POPSTATE",r)});const qe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),Ne=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document,pe=async r=>{const i=643.2/te.offsetWidth,e=await he.toJpeg(te,{width:te.offsetWidth*i,height:te.offsetHeight*i,style:{transform:`scale(${i})`,transformOrigin:"0 0"},bgcolor:"#fff"});return qe&&!r?pe(!0):e};for(const r of document.querySelectorAll("[data-hint]")){const i=r.dataset.hint==="over"?"pointerover":"click";r.addEventListener(i,()=>{delete r.dataset.hint},{once:!0})}const te=document.querySelector(".image");document.querySelector(".copy").addEventListener("click",()=>{navigator.clipboard.writeText(location.origin+location.pathname).then(()=>{E.log("saved!")},()=>{E.log("whoops!")})});document.querySelector(".save").addEventListener("click",async()=>{const r=Ne&&window.open("about:blank","_blank"),i=await pe(),e=await fetch(i).then(h=>h.blob()).then(h=>URL.createObjectURL(h));if(r)r.location.href=e;else{const h=document.createElement("a");h.download=`${location.pathname.slice(1).replace(/([^\/]+)\/(.*)$/,"$2-$1")}.jpg`,h.href=e,h.click()}URL.revokeObjectURL(e)});let X;const Be=async()=>{X=await ve();const r=document.querySelector(".combos");r&&(r.innerText=X.permutations);const i=we(location.pathname);se(i)};Be();
