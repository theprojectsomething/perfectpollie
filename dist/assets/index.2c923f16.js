const ge=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))P(u);new MutationObserver(u=>{for(const v of u)if(v.type==="childList")for(const w of v.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&P(w)}).observe(document,{childList:!0,subtree:!0});function t(u){const v={};return u.integrity&&(v.integrity=u.integrity),u.referrerpolicy&&(v.referrerPolicy=u.referrerpolicy),u.crossorigin==="use-credentials"?v.credentials="include":u.crossorigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function P(u){if(u.ep)return;u.ep=!0;const v=t(u);fetch(u.href,v)}};ge();var le={exports:{}};(function(i){(function(a){var t=$(),P=I(),u=p(),v=f(),w={imagePlaceholder:void 0,cacheBust:!1},m={toSvg:d,toPng:B,toJpeg:X,toBlob:H,toPixelData:T,impl:{fontFaces:u,images:v,util:t,inliner:P,options:{}}};i.exports=m;function d(n,e){return e=e||{},j(e),Promise.resolve(n).then(function(s){return U(s,e.filter,!0)}).then(x).then(V).then(r).then(function(s){return K(s,e.width||t.width(n),e.height||t.height(n))});function r(s){return e.bgcolor&&(s.style.backgroundColor=e.bgcolor),e.width&&(s.style.width=e.width+"px"),e.height&&(s.style.height=e.height+"px"),e.style&&Object.keys(e.style).forEach(function(c){s.style[c]=e.style[c]}),s}}function T(n,e){return M(n,e||{}).then(function(r){return r.getContext("2d").getImageData(0,0,t.width(n),t.height(n)).data})}function B(n,e){return M(n,e||{}).then(function(r){return r.toDataURL()})}function X(n,e){return e=e||{},M(n,e).then(function(r){return r.toDataURL("image/jpeg",e.quality||1)})}function H(n,e){return M(n,e||{}).then(t.canvasToBlob)}function j(n){typeof n.imagePlaceholder=="undefined"?m.impl.options.imagePlaceholder=w.imagePlaceholder:m.impl.options.imagePlaceholder=n.imagePlaceholder,typeof n.cacheBust=="undefined"?m.impl.options.cacheBust=w.cacheBust:m.impl.options.cacheBust=n.cacheBust}function M(n,e){return d(n,e).then(t.makeImage).then(t.delay(100)).then(function(s){var c=r(n);return c.getContext("2d").drawImage(s,0,0),c});function r(s){var c=document.createElement("canvas");if(c.width=e.width||t.width(s),c.height=e.height||t.height(s),e.bgcolor){var g=c.getContext("2d");g.fillStyle=e.bgcolor,g.fillRect(0,0,c.width,c.height)}return c}}function U(n,e,r){if(!r&&e&&!e(n))return Promise.resolve();return Promise.resolve(n).then(s).then(function(l){return c(n,l,e)}).then(function(l){return g(n,l)});function s(l){return l instanceof HTMLCanvasElement?t.makeImage(l.toDataURL()):l.cloneNode(!1)}function c(l,h,R){var k=l.childNodes;if(k.length===0)return Promise.resolve(h);return A(h,t.asArray(k),R).then(function(){return h});function A(C,O,E){var q=Promise.resolve();return O.forEach(function(D){q=q.then(function(){return U(D,E)}).then(function(N){N&&C.appendChild(N)})}),q}}function g(l,h){if(!(h instanceof Element))return h;return Promise.resolve().then(R).then(k).then(A).then(C).then(function(){return h});function R(){O(window.getComputedStyle(l),h.style);function O(E,q){E.cssText?q.cssText=E.cssText:D(E,q);function D(N,J){t.asArray(N).forEach(function(o){J.setProperty(o,N.getPropertyValue(o),N.getPropertyPriority(o))})}}}function k(){[":before",":after"].forEach(function(E){O(E)});function O(E){var q=window.getComputedStyle(l,E),D=q.getPropertyValue("content");if(D===""||D==="none")return;var N=t.uid();h.className=h.className+" "+N;var J=document.createElement("style");J.appendChild(o(N,E,q)),h.appendChild(J);function o(y,S,b){var F="."+y+":"+S,W=b.cssText?re(b):oe(b);return document.createTextNode(F+"{"+W+"}");function re(Y){var _=Y.getPropertyValue("content");return Y.cssText+" content: "+_+";"}function oe(Y){return t.asArray(Y).map(_).join("; ")+";";function _(Z){return Z+": "+Y.getPropertyValue(Z)+(Y.getPropertyPriority(Z)?" !important":"")}}}}}function A(){l instanceof HTMLTextAreaElement&&(h.innerHTML=l.value),l instanceof HTMLInputElement&&h.setAttribute("value",l.value)}function C(){h instanceof SVGElement&&(h.setAttribute("xmlns","http://www.w3.org/2000/svg"),h instanceof SVGRectElement&&["width","height"].forEach(function(O){var E=h.getAttribute(O);!E||h.style.setProperty(O,E)}))}}}function x(n){return u.resolveAll().then(function(e){var r=document.createElement("style");return n.appendChild(r),r.appendChild(document.createTextNode(e)),n})}function V(n){return v.inlineAll(n).then(function(){return n})}function K(n,e,r){return Promise.resolve(n).then(function(s){return s.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),new XMLSerializer().serializeToString(s)}).then(t.escapeXhtml).then(function(s){return'<foreignObject x="0" y="0" width="100%" height="100%">'+s+"</foreignObject>"}).then(function(s){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+e+'" height="'+r+'">'+s+"</svg>"}).then(function(s){return"data:image/svg+xml;charset=utf-8,"+s})}function $(){return{escape:C,parseExtension:e,mimeType:r,dataAsUrl:A,isDataUrl:s,canvasToBlob:g,resolveUrl:l,getAndEncode:k,uid:h(),delay:O,asArray:E,escapeXhtml:q,makeImage:R,width:D,height:N};function n(){var o="application/font-woff",y="image/jpeg";return{woff:o,woff2:o,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:y,jpeg:y,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}function e(o){var y=/\.([^\.\/]*?)$/g.exec(o);return y?y[1]:""}function r(o){var y=e(o).toLowerCase();return n()[y]||""}function s(o){return o.search(/^(data:)/)!==-1}function c(o){return new Promise(function(y){for(var S=window.atob(o.toDataURL().split(",")[1]),b=S.length,F=new Uint8Array(b),W=0;W<b;W++)F[W]=S.charCodeAt(W);y(new Blob([F],{type:"image/png"}))})}function g(o){return o.toBlob?new Promise(function(y){o.toBlob(y)}):c(o)}function l(o,y){var S=document.implementation.createHTMLDocument(),b=S.createElement("base");S.head.appendChild(b);var F=S.createElement("a");return S.body.appendChild(F),b.href=y,F.href=o,F.href}function h(){var o=0;return function(){return"u"+y()+o++;function y(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}}}function R(o){return new Promise(function(y,S){var b=new Image;b.onload=function(){y(b)},b.onerror=S,b.src=o})}function k(o){var y=3e4;return m.impl.options.cacheBust&&(o+=(/\?/.test(o)?"&":"?")+new Date().getTime()),new Promise(function(S){var b=new XMLHttpRequest;b.onreadystatechange=re,b.ontimeout=oe,b.responseType="blob",b.timeout=y,b.open("GET",o,!0),b.send();var F;if(m.impl.options.imagePlaceholder){var W=m.impl.options.imagePlaceholder.split(/,/);W&&W[1]&&(F=W[1])}function re(){if(b.readyState===4){if(b.status!==200){F?S(F):Y("cannot fetch resource: "+o+", status: "+b.status);return}var _=new FileReader;_.onloadend=function(){var Z=_.result.split(/,/)[1];S(Z)},_.readAsDataURL(b.response)}}function oe(){F?S(F):Y("timeout of "+y+"ms occured while fetching resource: "+o)}function Y(_){console.error(_),S("")}})}function A(o,y){return"data:"+y+";base64,"+o}function C(o){return o.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")}function O(o){return function(y){return new Promise(function(S){setTimeout(function(){S(y)},o)})}}function E(o){for(var y=[],S=o.length,b=0;b<S;b++)y.push(o[b]);return y}function q(o){return o.replace(/#/g,"%23").replace(/\n/g,"%0A")}function D(o){var y=J(o,"border-left-width"),S=J(o,"border-right-width");return o.scrollWidth+y+S}function N(o){var y=J(o,"border-top-width"),S=J(o,"border-bottom-width");return o.scrollHeight+y+S}function J(o,y){var S=window.getComputedStyle(o).getPropertyValue(y);return parseFloat(S.replace("px",""))}}function I(){var n=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:c,shouldProcess:e,impl:{readUrls:r,inline:s}};function e(g){return g.search(n)!==-1}function r(g){for(var l=[],h;(h=n.exec(g))!==null;)l.push(h[1]);return l.filter(function(R){return!t.isDataUrl(R)})}function s(g,l,h,R){return Promise.resolve(l).then(function(A){return h?t.resolveUrl(A,h):A}).then(R||t.getAndEncode).then(function(A){return t.dataAsUrl(A,t.mimeType(l))}).then(function(A){return g.replace(k(l),"$1"+A+"$3")});function k(A){return new RegExp(`(url\\(['"]?)(`+t.escape(A)+`)(['"]?\\))`,"g")}}function c(g,l,h){if(R())return Promise.resolve(g);return Promise.resolve(g).then(r).then(function(k){var A=Promise.resolve(g);return k.forEach(function(C){A=A.then(function(O){return s(O,C,l,h)})}),A});function R(){return!e(g)}}}function p(){return{resolveAll:n,impl:{readAll:e}};function n(){return e().then(function(r){return Promise.all(r.map(function(s){return s.resolve()}))}).then(function(r){return r.join(`
`)})}function e(){return Promise.resolve(t.asArray(document.styleSheets)).then(s).then(r).then(function(g){return g.map(c)});function r(g){return g.filter(function(l){return l.type===CSSRule.FONT_FACE_RULE}).filter(function(l){return P.shouldProcess(l.style.getPropertyValue("src"))})}function s(g){var l=[];return g.forEach(function(h){try{t.asArray(h.cssRules||[]).forEach(l.push.bind(l))}catch(R){console.log("Error while reading CSS rules from "+h.href,R.toString())}}),l}function c(g){return{resolve:function(){var h=(g.parentStyleSheet||{}).href;return P.inlineAll(g.cssText,h)},src:function(){return g.style.getPropertyValue("src")}}}}}function f(){return{inlineAll:e,impl:{newImage:n}};function n(r){return{inline:s};function s(c){return t.isDataUrl(r.src)?Promise.resolve():Promise.resolve(r.src).then(c||t.getAndEncode).then(function(g){return t.dataAsUrl(g,t.mimeType(r.src))}).then(function(g){return new Promise(function(l,h){r.onload=l,r.onerror=h,r.src=g})})}}function e(r){if(!(r instanceof Element))return Promise.resolve(r);return s(r).then(function(){return r instanceof HTMLImageElement?n(r).inline():Promise.all(t.asArray(r.childNodes).map(function(c){return e(c)}))});function s(c){var g=c.style.getPropertyValue("background");return g?P.inlineAll(g).then(function(l){c.style.setProperty("background",l,c.style.getPropertyPriority("background"))}).then(function(){return c}):Promise.resolve(c)}}}})()})(le);var he=le.exports;const ie=new Set(["Australian Greens","Australian Labor Party","Liberal-National Coalition"]),de=new Map([["Australian Greens","brocolli"],["Australian Labor Party","tomatoes"],["Liberal-National Coalition","blueberries"]]),me=new Map([["National Party","Liberal-National Coalition"],["Liberal Party","Liberal-National Coalition"],["Liberal National Party","Liberal-National Coalition"],["Country Liberal Party","Liberal-National Coalition"]]),L=new Proxy(window.console,{get(){return()=>{}}}),G=(i,a,t=[])=>{var P;return(P=i.get(a))!=null?P:i.set(a,t)&&t},ye=async()=>{const i=await fetch("/db.json").then(w=>w.json()),a=Object.keys(i.people),t=new Map(Object.entries(i.people)),P=new Map(Object.entries(i.policies)),u=new Map,v=new Map;for(const[w,m]of t){const d=m.name[0].replace(/-/g,"").toLowerCase(),T=G(v,d);m.lookup={name:d,list:T,index:T.push(w)},m.policies=new Map(Object.entries(m.policies));const B=G(u,m.party,{policies:new Map,people:[]});B.people.push(w);const X=me.get(m.party),H=X&&G(u,X,{policies:new Map,people:[]});H&&H.people.push(w);for(const[j,M]of m.policies){if(M%100)continue;const U=P.get(j);if(!U)continue;U.parties||(U.parties=new Map);const x=G(U.parties,m.party,{for:[],against:[]});if(M?x.for.push(w):x.against.push(w),B.policies.has(j)||B.policies.set(j,x),!X)continue;const V=G(U.parties,X,{for:[],against:[]});M?V.for.push(w):V.against.push(w),H.policies.has(j)||H.policies.set(j,V)}}return L.log("NAMES",v),L.log("POLICIES",P),L.log("PARTIES",u),{permutations:"2,495,102,400",names:v,ids:a,people:t,policies:P,parties:u}},ve=i=>{if(i.length<2)return;const a=i.slice(1).split("/"),t=a.pop().split("-"),P=a.length?a.pop().split(/\B/):[],u=P.slice(),v=[];for(const w of t){const m=z.names.get(w);if(!m)continue;let d=0;m.length>1&&P.length&&(L.log(m),d=Math.max(1,Math.min(m.length,parseInt(P.shift(),36)))-1),v.push(m[d])}return L.log("PARSE",i,a,u,v),v},we=(...i)=>{const a=[];let t="";for(const P of i){const u=z.people.get(P);u&&(a.push(u.lookup.name),u.lookup.list.length>1&&(t+=u.lookup.index.toString(36)))}return L.log({names:a,indexes:t},[""].concat(t||[],a.join("-")).join("/")),[""].concat(t||[],a.join("-")).join("/")},Pe=330/800,be=300/800;let ne,ee,ue=0;const $e=document.querySelector(".description"),Ee=document.querySelector(".twitter"),Se=document.querySelector(".email"),Q=document.querySelector(".partials"),ae=document.querySelectorAll(".partial-image"),Ae=document.querySelectorAll(".info"),fe=i=>{++ue>=ae.length&&setTimeout(()=>{delete Q.dataset.loading},500)},Le=i=>{if(i.target.classList.contains("default"))return fe();i.target.parentElement.parentElement.style="",i.target.parentElement.style="",i.target.classList.add("default"),i.target.src="/assets/whereswilma.webp"};Q.addEventListener("load",fe,!0);Q.addEventListener("error",Le,!0);const Te=(i=[])=>{var t;const a=[];for(;a.length<ae.length;){const P=(t=i[a.length])!=null?t:z.ids[Math.floor(Math.random()*z.ids.length)];P&&!a.includes(P)&&z.people.get(P)&&a.push(P)}return a},se=i=>{ue=0,Q.dataset.alt=+Q.dataset.alt?0:1,Q.dataset.loading=1;const a=[0,0],t=[],P=new Map,u=Te(i);for(const[w,m]of Object.entries(u)){const d=z.people.get(m),T=ae[w],B=d.image,X="/assets/manofmystery.webp";T.src=B?`/assets/people/${m}.webp`:X,T.classList.toggle("default",!B);const H=new Map;let j=0;for(const[$,I]of d.policies){const p=G(P,$,{aggregate:0,count:0,parties:new Map,people:{names:[],ids:[],parties:new Set}});if(p.people.names.push(d.name[0]),p.people.ids.push(m),p.people.parties.add(d.party),p.aggregate+=I,++p.count,I%100)continue;++j;const f=2*I/100-1,n=[];for(const[e,r]of z.policies.get($).parties){const s=Math.max(-1,Math.min(1,r.for.length-r.against.length));if(s&&p.parties.set(e,s),!ie.has(e)||s!==f)continue;n.push(e),G(H,e).push($)}n.length||G(H,"Other").push($)}let M=0;const U=Array.from(H).sort(([$,I],[p,f])=>(M=Math.max(M,I.length,f.length),f.length-I.length||($===d.party?1:0)));M||(M=U[0][1].length,L.log({alignmentMax:M},U));const x=Ae[w];if(x){const $=`${d.house[0]==="s"?"Senator":"Representative"} for ${d.electorate}`,I=d.offices.length?[d.offices[0].replace(/ (to|for) .*?(?= \(|$)/,"")]:[];x.dataset.party=d.party.toLowerCase().replace(/ /g,"-").replace(/[^a-z-]/g,""),x.querySelector("img").src=T.classList.contains("default")?T.src:T.src.replace(".webp","-sm.webp"),x.querySelector(".name").innerText=d.name.join(" "),x.querySelector(".role").innerText=$,x.querySelector(".party").innerText=d.party==="CWM"?"":d.party,x.querySelector(".offices").innerHTML=I.concat(d.offices.length>1?`+${d.offices.length-1} more offices`:[]).join("<br>"),x.querySelector(".votes").innerHTML=`Consistent votes: ${j.toLocaleString()}`;for(const p of x.querySelectorAll(".partial-alignment li"))p.style=null;x.querySelector(".partial-alignment").title=`${d.name[0]}'s consistent voting alignment with the major parties`;for(const[p,[f,n]]of Object.entries(U)){L.log(f);const e=x.querySelector(`.partial-alignment li[data-party="${f}"]`);e.style.order=+p+1,e.style.width=`${Math.round(100*n.length/M)}%`,L.log(p,f,n)}}L.log(m,d.name,d.party,d),L.log("ALIGNMENT",H),L.log(U),t.push(d.name[0]);let V,K;if(B){const $=d.image[36],I=d.image[45],p=d.image[8],f=d.image[0],n=d.image[16],e=[I[0]-$[0],I[1]-$[1]],r=[p[0]-$[0],p[1]-$[1]],s=[$[0]-f[0],$[1]-f[1]],c=[n[0]-I[0],n[1]-I[1]],g=(e[0]**2+e[1]**2)**.5,l=(r[0]**2+r[1]**2)**.5,h=(s[0]**2+s[1]**2)**.5,R=(c[0]**2+c[1]**2)**.5,k=Math.atan(e[1]/e[0]),A=Math.atan(r[1]/r[0]),C=Math.sin(A-k)*l,O=h>R?1:-1,E=be/C,q=.5-$[0]-E*g/2,D=Pe-$[1];if(w==0){const N=D*E-$[1]*(E-1);a[0]=Math.max(0,N)}else if(w==u.length-1){const N=(1-$[1])*(E-1)+D*E;a[1]=Math.max(0,-N)}O<0&&(V=`transform: scaleX(${O});`),K=`transform: translate(${q*100}%, ${D*100}%) scale(${E}, ${E}) rotate(${-k}rad); transform-origin: ${$[0]*100}% ${$[1]*100}%;`}T.parentElement.parentElement.style=V,T.parentElement.style=K}const v=(a[1]-a[0])/4;Q.style=`transform: translateY(${v*100}%)`,L.log({topBottomTransform:a,offsetTransformY:v}),ne=`${t[0]} "the ${t[1]}" ${t[2]}-${t[3]}`;for(const w of document.querySelectorAll(".pollie"))w.innerText=ne;ee=we(...u),history.state&&history.state.ids&&history.state.ids.join("")!==u.join("")?(L.log("PUSH STATE!",history.state,ee),history.pushState({ids:u},"",ee)):(L.log("REPLACE STATE!"),history.replaceState({ids:u},"",ee)),Ee.href=je(ne),Se.href=Me(),qe(P)},je=i=>{const a=new URL("https://twitter.com/intent/tweet");return a.searchParams.set("text",`${i} is truly the Perfect \u2764\uFE0F Pollie`),a.searchParams.set("url",location.origin+location.pathname),a},Me=i=>{const a=encodeURIComponent(`Hey I found the the Perfect Pollie -

${location.origin+location.pathname}

Love ya guts!`);return`mailto:?subject=${encodeURIComponent("found the the perfect pollie")}&body=${a}`},ce=i=>i.length<=2?i.join(" and "):i.slice(0,-2).join(", ").concat(", ",i.slice(-2).join(" and ")),xe=document.querySelector(".policies-bigticket"),Ce=document.querySelector(".policies-for-bigticket"),Ie=document.querySelector(".policies-for-major"),Re=document.querySelector(".policies-for");document.querySelector(".policies-against-bigticket");document.querySelector(".policies-against-major");document.querySelector(".policies-against");const Oe=document.querySelectorAll(".alignment li"),qe=i=>{var V,K,$,I;let a=0,t=0;const P=new Map,u=new Map,v=new Map,w=new Map;for(const[p,f]of i){const n=f.aggregate/f.count;let e;if(n===100)e=v;else if(n===0)e=w;else continue;const r=z.policies.get(p),s=2*n/100-1,c=f.count**2;c>10&&L.log(p,r.name,f.count,c);const g=[],l=[];for(const[C,O]of f.parties)if(s===O){l.push(C);const E=G(P,C,{score:0,total:0});if(ie.has(C)){g.push(p);const q=G(u,C,{score:0,total:0});q[p]=c,q.score+=c,++q.total,t+=c,c>10&&L.log(q,C,s,O)}E[p]=c,E.score+=c,a+=c}if(!g.length){const C=G(u,"Other",{score:0,total:0});C[p]=c,C.score+=c,++C.total,t+=c}const h=G(e,f.count),R=ce(f.people.names),k=f.count>1?"agree":"agrees",A=f.count>1?"do not agree":"does not agree";h.push(`<li class="${n?"is-for":"is-against"}">
      <details>
        <summary title="${R} ${k} this is a ${n?"great":"terrible"} policy" data-count="${f.count}">${r.name}</summary>
        <p><i>${R}</i> ${n?k:A} that ${r.description}
          <br><small>Aligned Parties: ${l.sort().join(", ")}</small>
        </p>
      </details>
    </li>`)}L.log("POLICY ALIGNMENT",a,P),L.log("POLICY ALIGNMENT MAJOR",t,u);let m,d=0;const T=[],B=[];for(const[p,f]of u)f.percent=100*f.score/t,f.percentRounded=Math.ceil(f.percent),d+=f.percentRounded,(!m||f.score>m.score)&&(m=f),(p!=="Other"||f.percent>75)&&(f.percent>=25?T.push(p):f.percent>10&&B.push(de.get(p)));m.percentRounded+=100-d;for(const p of Oe){const f=u.get(p.dataset.party);delete p.dataset.primary,f?(p.style.width=`${f.percent}%`,p.style.order=p.dataset.percent=f.percentRounded,p.dataset.score=f.score,p.dataset.total=f.total,m===f&&(p.dataset.primary="1")):(delete p.dataset.total,delete p.dataset.score,delete p.dataset.percent,p.style=null)}const X=[].concat(v.get(2)||[],v.get(1)||[]),H=[].concat(w.get(2)||[],w.get(1)||[]),j=((K=(V=v.get(4))==null?void 0:V.length)!=null?K:0)+((I=($=w.get(4))==null?void 0:$.length)!=null?I:0);xe.dataset.total=j,Ce.innerHTML=(v.get(4)||[]).join("")+(w.get(4)||[]).join(""),Ie.innerHTML=(v.get(3)||[]).join("")+(w.get(3)||[]).join(""),Re.innerHTML=X.join("")+H.join("");const M=u.get("Other"),U=T.length===ie.size,x=[`<i>${ne}</i>`].concat(j?"has":"has the look, but doesn't have any",j>5?"any number of":j||[],`<a href="#big-ticket-policies">big ticket ${j===1?"policy":"policies"}</a>`,m.percent>=75?(T[0]==="Other"?"and is essentially a bizarre non-conformist":`${j<5?"&hellip; and":"but"} `+(j?"(of course) is essentially a":"is really just a plain-packaged")+` <span class="party-align">${T[0]}</span> stooge`)+` (who enjoys a side of ${ce(B)})`:`${j?"and enjoys":"&hellip; despite enjoying"} `+(U?"a confused middle ground in the divine trinity of major party ideaologies":"a soggy sandwich of "+(T.length>1?`<span class="party-align">${T.join('</span> and <span class="party-align">')}</span>`:`<span class="party-align">${T[0]}</span>`)+" thinking"+(B.length?`, with a small side of ${B.join(" and ")}`:""))+(M?`. And, in true style, topping things off with ${M.percent<2?"a wee smidge":M.percent<10&&"measly pinch"||"fair dollop"} of bizarre otherness`:"")).join(" ").concat(".");$e.innerHTML=x};document.querySelector(".btn-refresh").addEventListener("click",()=>se());window.addEventListener("popstate",({state:i})=>{i&&i.ids&&se(i.ids),L.log("POPSTATE",i)});const ke=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),pe=async i=>{const a=643.2/te.offsetWidth,t=await he.toJpeg(te,{width:te.offsetWidth*a,height:te.offsetHeight*a,style:{transform:`scale(${a})`,transformOrigin:"0 0"},bgcolor:"#fff"});return ke&&!i?pe(!0):t};for(const i of document.querySelectorAll("[data-hint]")){const a=i.dataset.hint==="over"?"pointerover":"click";i.addEventListener(a,()=>{delete i.dataset.hint},{once:!0})}const te=document.querySelector(".image");document.querySelector(".copy").addEventListener("click",()=>{navigator.clipboard.writeText(location.origin+location.pathname).then(()=>{L.log("saved!")},()=>{L.log("whoops!")})});document.querySelector(".save").addEventListener("click",async()=>{const i=await pe();var a=document.createElement("a");a.download=`${location.pathname.slice(1).replace(/([^\/]+)\/(.*)$/,"$2-$1")}.jpg`,a.href=i,a.click()});let z;const Ue=async()=>{z=await ye();const i=document.querySelector(".combos");i&&(i.innerText=z.permutations);const a=ve(location.pathname);se(a)};Ue();
